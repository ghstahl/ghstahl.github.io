{"version":3,"sources":["webpack:///webpack/bootstrap bc2cdb030f89b5889fc5","webpack:///./~/riot/riot.js","webpack:///webpack:///webpack/universalModuleDefinition","webpack:///webpack:/webpack/bootstrap d74dfd0bf95bde2bf088","webpack:///webpack:///app/p7-host-core/utils/deep-freeze.js","webpack:///webpack:///app/p7-host-core/stores/store-base.js","webpack:///webpack:///app/p7-host-core/utils/validators.js","webpack:///webpack:///app/p7-host-core/dynamic-jscss-loader.js","webpack:///webpack:///app/p7-host-core/router.js","webpack:///webpack:///app/p7-host-core/stores/component-loader-store.js","webpack:///webpack:///app/p7-host-core/stores/progress-store.js","webpack:///webpack:///app/p7-host-core/stores/route-store.js","webpack:///webpack:///app/p7-host-core/utils/random-string.js","webpack:///webpack:///app/p7-host-core/riotcontrol-ext.js","webpack:///webpack:///app/p7-host-core/stores/error-store.js","webpack:///webpack:///app/p7-host-core/stores/fetch-store.js","webpack:///webpack:///app/p7-host-core/stores/keep-alive-store.js","webpack:///webpack:///app/p7-host-core/stores/localstorage-store.js","webpack:///webpack:///app/p7-host-core/stores/plugin-registration-store.js","webpack:///webpack:///app/p7-host-core/stores/riotcontrol-dispatch-store.js","webpack:///webpack:///app/p7-host-core/stores/startup-store.js","webpack:///webpack:/external \"riot\"","webpack:///webpack:///app/p7-host-core/p7-host-core.js","webpack:///webpack:///app/p7-host-core/extensions/riot-route-extension.js","webpack:///webpack:///app/p7-host-core/index.js","webpack:///webpack:///app/p7-host-core/master-event-table.js","webpack:///webpack:///app/p7-host-core/components/startup.tag","webpack:///webpack:/external \"js-cookie\"","webpack:///webpack:/external \"riot-route\"","webpack:///webpack:/external \"riotcontrol\"","webpack:///webpack:/external \"whatwg-fetch\"","webpack:///./~/js-cookie/src/js.cookie.js","webpack:///./~/riot-route/lib/index.js","webpack:///./~/riotcontrol/riotcontrol.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./app/app.tag","webpack:///./app/components/my-next-startup.tag","webpack:///./app/mixins/opts-mixin.js","webpack:///./app/stores/next-config-store.js","webpack:///./app/stores/sidebar-store.js","webpack:///./app/css/index.css","webpack:///./app/components/header.tag","webpack:///./app/components/itemlist.tag","webpack:///./app/components/loading-indicator.tag","webpack:///./app/components/pretty-json.tag","webpack:///./app/components/sidebar.tag","webpack:///./app/pages/error.tag","webpack:///./app/pages/home.tag","webpack:///./app/pages/projects.tag","webpack:///./app/index.js","webpack:///./app/route-contributer.js","webpack:///./~/nprogress/nprogress.css","webpack:///./~/nprogress/nprogress.js","webpack:///./~/riot-observable/dist/observable.js","webpack:///(webpack)/buildin/module.js"],"names":["riot","require","tag2","opts","self","name","on","console","log","routeContributer","registerRecord","stores","registrants","postLoadEvents","preUnloadEvents","control","trigger","_bind","EVT","keepAliveStore","out","keptAlive","onKeptAlive","_unbind","off","$","alert","fadeTo","slideUp","hide","config","nextTag","loaded","onConfigComplete","startupStore","in","start","OptsMixin","init","getOpts","setOpts","update","module","exports","Constants","NAME","NAMESPACE","WELLKNOWN_EVENTS","fetchConfig","fetchConfigResult","fetchConfigHeadResult","configComplete","freeze","NextConfigStore","observable","riotHandlers","event","handler","_onFetchConfig","_onFetchConfigResult","bindEvents","path","url","myAck","evt","nextConfigStore","fetchStore","fetch","result","ack","error","response","ok","errorStore","errorCatchAll","code","sidebarAddItem","sidebarRemoveItem","SidebarStore","state","sidebar","itemsSet","Set","_loadFromState","_onSidebarAddItem","_onSidebarRemoveItem","_commitToState","items","Array","from","routeStore","riotRouteDispatchAck","item","add","_findItem","t","title","view","_deleteItem","delete","routeState","navItems","route","_onRiotRouteDispatchAck","routeDispatch","loadItemsSuccess","onLoadItemsSuccess","loadItems","nprogress","onProgressStart","onProgressDone","done","progressStore","progressStart","progressDone","obj","onRiotRouteDispatchAck","times","buttonS","buttonClasses","a","b","c","tick","arrayLength","length","i","Math","floor","random","timer","setInterval","clearInterval","generateAnError","mixin","projects","undefined","text","componentLoaderState","components","getComponentsArray","forEach","value","key","map","push","componentLoaderStore","componentLoaderStoreStateUpdated","onComponentLoaderStoreStateUpdated","clearLocalStorage","localStorageStore","localstorageClear","loadMyComponentsSPA","e","component","loadDynamicComponent","unloadMyComponentsSPA","unloadDynamicComponent","p7HostCore","randomString","hash","randomHash","Initialize","defaultRoute","touch","constants","sidebarStore","addStore","testComponent","type","onLoad","data","onUnload","routeLoad","mount","RouteContributer","_initializeViewSet","_viewsSet","s","views","contributeRoutes","r","router","indexOf","riotRouteLoadView"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,CAAC,4BAA4B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,GAAG,GAAG;AAC/D,iCAAiC;AACjC;AACA,2CAA2C;;AAE3C;AACA;AACA,aAAa,SAAS;AACtB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,IAAI;AACjB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,IAAI;AACjB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,IAAI;AACjB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,IAAI;AACjB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,IAAI;AACf,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,IAAI;AACjB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,UAAU;AACvB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA,KAAK,4BAA4B;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,UAAU;AACvB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA,wBAAwB,8BAA8B,oBAAoB;AAC1E;AACA;AACA;AACA,wDAAwD;AACxD,GAAG;AACH;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,qBAAqB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA,KAAK,6CAA6C;AAClD;AACA,KAAK,6BAA6B;AAClC;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,cAAc;AAC3B,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,WAAW;AACxB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK,8CAA8C;AACnD;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,WAAW;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA,UAAU,+DAA+D;;AAEzE;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA,eAAe,oBAAoB;AACnC,UAAU,qBAAqB;AAC/B;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA,sBAAsB,6BAA6B;AACnD,UAAU,6BAA6B;AACvC;AACA;;AAEA;AACA;AACA;AACA;;AAEA,8BAA8B;;AAE9B,yBAAyB,GAAG;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA,+CAA+C;AAC/C;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA,OAAO;;AAEP;;AAEA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,2DAA2D;;AAE3D;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,eAAe;AACvB,KAAK;;AAEL,gBAAgB,EAAE;;AAElB;AACA,MAAM,KAAK;AACX,MAAM,KAAK;AACX,MAAM,GAAG,GAAG;AACZ,WAAW;AACX,SAAS,GAAG;AACZ,kBAAkB,OAAO,KAAK;AAC9B;AACA,UAAU,iDAAiD;AAC3D,eAAe,UAAU;AACzB;;AAEA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B;;AAE3B;AACA,cAAc,aAAa;AAC3B;AACA,0BAA0B,qBAAqB;AAC/C;AACA;;AAEA;AACA,2BAA2B;;AAE3B;;AAEA;AACA;AACA;AACA;;AAEA,4CAA4C,SAAS;AACrD,6CAA6C,EAAE;AAC/C;AACA,+CAA+C;AAC/C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,cAAc;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,MAAM;AAC1C,+BAA+B;AAC/B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,kDAAkD;AAClD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS;AACT,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;A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AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA,cAAc;AACd,gBAAgB,uBAAuB;AACvC,wBAAwB;AACxB;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,WAAW,qBAAqB;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,WAAW;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA,uCAAuC,uBAAuB;AAC9D;AACA,gCAAgC,yBAAyB;AACzD;AACA,+BAA+B,mCAAmC;;AAElE;;AAEA;;AAEA;AACA,+BAA+B;;AAE/B;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,WAAW;AACtB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yCAAyC,4BAA4B;AACrE,8BAA8B,2BAA2B;AACzD,mCAAmC,gEAAgE;;AAEnG;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2BAA2B;;AAE3B;AACA,UAAU;AACV;AACA,iCAAiC,gDAAgD,EAAE;AACnF;AACA;AACA;AACA,KAAK,oDAAoD,EAAE;;AAE3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB;AACA,4CAA4C,gDAAgD;AAC5F;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;AACA,8CAA8C;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,kCAAkC;AACpD,oBAAoB;AACpB,mDAAmD;;AAEnD;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA,uBAAuB,YAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,0BAA0B,uBAAuB,EAAE;AACnD,OAAO;AACP,YAAY,uBAAuB;AACnC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,8BAA8B;AAClE;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,KAAK,wCAAwC;AAC7C;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,uDAAuD;AAC5E,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,wCAAwC,kDAAkD;AAC1F;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,0BAA0B,2BAA2B;AACrD,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO,yDAAyD;AAChE;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,IAAI;AACjB,aAAa,IAAI;AACjB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,MAAM;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA,KAAK,0CAA0C;AAC/C;AACA,KAAK,2CAA2C;AAChD;;AAEA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,MAAM;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA,KAAK,0CAA0C;AAC/C;AACA,KAAK,2CAA2C;AAChD;;AAEA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,UAAU;AACvB;AACA;AACA;AACA,KAAK,8BAA8B;AACnC;AACA,KAAK,6BAA6B;AAClC;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAe,qCAAqC;;AAEpD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,WAAW;;AAEX;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA,WAAW,8CAA8C;AACzD;AACA,WAAW,+CAA+C;;AAE1D,0BAA0B,6BAA6B;AACvD;AACA,oBAAoB,8CAA8C;AAClE,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,mBAAmB;;AAE1C;AACA;AACA,iCAAiC,6BAA6B;AAC9D;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,kBAAkB;AAC1C,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA4B,aAAa,EAAE;AAC3C;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,aAAa,SAAS;AACtB;AACA;AACA;;AAEA,cAAc,SAAS;;AAEvB;AACA;AACA,2CAA2C,SAAS,eAAe;;AAEnE;AACA;AACA,OAAO,uBAAuB,8BAA8B,EAAE;;AAE9D,qBAAqB,aAAa;;AAElC;;AAEA;AACA;AACA,qBAAqB,mCAAmC,EAAE;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,yEAAyE;AACvG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC,mCAAmC,EAAE;AAC5E;AACA,SAAS,YAAY,uBAAuB;AAC5C;;AAEA;AACA,oDAAoD;AACpD;AACA;AACA;;AAEA,6BAA6B,sBAAsB;AACnD,WAAW,0BAA0B;AACrC;AACA,kCAAkC;AAClC,OAAO;AACP,oBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA,KAAK;;AAEL;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,QAAQ;AACrB,aAAa,WAAW;AACxB;AACA;AACA;;AAEA;AACA,gBAAgB;;AAEhB;;AAEA;AACA;AACA,KAAK;AACL,cAAc;AACd;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,GAAG;AACH;AACA;AACA,kDAAkD,2BAA2B;AAC7E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA,GAAG;;AAEH;AACA,kDAAkD;AAClD;AACA,KAAK;AACL,4CAA4C;AAC5C;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA,aAAa,UAAU;AACvB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK,qCAAqC;AAC1C;AACA,KAAK,wBAAwB;;AAE7B;AACA;;AAEA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,uBAAuB;;AAEnC;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,WAAW;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,OAAO,YAAY;AACnB;;AAEA;AACA;AACA,OAAO,UAAU;AACjB;AACA,OAAO,uBAAuB;AAC9B;;AAEA;AACA,sBAAsB;;AAEtB;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,WAAW;AACxB,aAAa,SAAS;AACtB;AACA;AACA,YAAY,6BAA6B;;AAEzC,sBAAsB;;AAEtB;AACA;;AAEA;AACA;AACA,aAAa,IAAI;AACjB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS,gBAAgB;AACzB,KAAK;AACL,OAAO,wBAAwB,EAAE;AACjC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,iBAAiB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,0BAA0B;AACjC;AACA;AACA;;AAEA,iCAAiC,wCAAwC,EAAE;;AAE3E;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,UAAU;AACvB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA,2CAA2C;AAC3C,4BAA4B;AAC5B;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,4CAA4C,qBAAqB,EAAE;AACnE;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,MAAM;AACnB,aAAa,UAAU;AACvB,aAAa,SAAS;AACtB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B;AACA;AACA,oBAAoB,6CAA6C;AACjE;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,oBAAoB;AAC3C;AACA,+BAA+B,yBAAyB;;AAExD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,4CAA4C;AAC5C;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA,iCAAiC;AACjC,iCAAiC;;AAEjC;AACA;AACA,GAAG;AACH,qBAAqB,qBAAqB;AAC1C;AACA;;AAEA;AACA;AACA,eAAe,IAAI;AACnB,eAAe,MAAM;AACrB;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gCAAgC,+DAA+D;AAC/F;AACA,qBAAqB,8BAA8B;AACnD;AACA,qBAAqB,yBAAyB;;AAE9C;;AAEA,GAAG;;AAEH;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO,OAAO,gBAAgB;;AAE9B;;AAEA;AACA,UAAU,mEAAmE;AAC7E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,SAAS,8BAA8B;AACvC,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;;AAEA,qBAAqB;;AAErB;AACA;AACA,wDAAwD,mBAAmB;AAC3E;AACA;AACA,KAAK;;AAEL;AACA;AACA,2CAA2C,iBAAiB,kBAAkB,EAAE,EAAE;AAClF;AACA,iBAAiB,wBAAwB;AACzC,YAAY,sCAAsC;AAClD,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,0BAA0B;;AAE5C,yBAAyB,8BAA8B;;AAEvD;AACA;;AAEA;;AAEA;AACA,8BAA8B,kCAAkC;AAChE;;AAEA;AACA;;AAEA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA,aAAa,UAAU;AACvB,eAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,gCAAgC;;AAEzD;AACA;AACA;AACA,SAAS,wCAAwC;;AAEjD;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,OAAO,kCAAkC;;AAEzC;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,+BAA+B,mBAAmB;AAClD;;AAEA;AACA;AACA,2BAA2B,6BAA6B;AACxD,OAAO;AACP;;AAEA;AACA;AACA,kCAAkC,qDAAqD,EAAE;;AAEzF;AACA,4BAA4B,qBAAqB;;AAEjD;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;AACH;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,+BAA+B;AACrD;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;;AAEA;AACA,KAAK,+DAA+D;AACpE,QAAQ,yCAAyC;AACjD;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK,wCAAwC;;AAE7C;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA,gCAAgC,oBAAoB;AACpD,4BAA4B,wBAAwB;AACpD,4BAA4B,gBAAgB;AAC5C,GAAG;AACH;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,UAAU;AACvB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,uCAAuC,oBAAoB;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA,+BAA+B;;AAE/B;AACA,6BAA6B,oBAAoB;AACjD,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,4BAA4B,0BAA0B;AACtD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK,OAAO,0BAA0B;AACtC;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD,2BAA2B,iBAAiB;AAC5C,qDAAqD,wBAAwB;AAC7E,GAAG;AACH,KAAK,iBAAiB,EAAE;AACxB;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;;AAEA,qBAAqB,yBAAyB,GAAG,oCAAoC;;AAErF,qBAAqB,2CAA2C;;AAEhE;AACA;AACA;AACA,uCAAuC,wBAAwB;AAC/D;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA,KAAK,wCAAwC;AAC7C;AACA,KAAK,uBAAuB;AAC5B;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,0BAA0B,EAAE;AACtD;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,cAAc;;AAE5D,CAAC;;;;;;;;;;;;;ACv0FD,0DACA;+GACA,uJACA,iBACA,+LACA;AAAA;AAAA;AAAA,qLACA,wIAEA,kIACA;AAAC;AACD,S;;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,uDAA2C;eAAc;;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACK;AACL;;AACA;;;AAEA;AACA;AACA;AACA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;eACA;eAAK,QAAQ,QAAQ,KAAK,IAAI,aAAa,GAAG,aAAY,KAC1D;cAAG,KAAK,WACN;iBAAK,QAAQ,QACd;AACF;AAED;;aAAK,GAAG,WAAW,YACjB;eACD;AAED;;aAAK,mBAAmB,YACtB;cAAG,CAAC,KAAK,QACP;iBAAK,SACL;iBACA;iBAAK,QAAQ,QAAQ,KAAK,IAAI,aAAa,GAAG,OAAM,KACrD;AACF;AAEF;AA7CG;;;;;;;ACFJ,uB;;;;;;;ACAA,uB;;;;;;;ACAA,uB;;;;;;;ACAA,uB;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,QAAQ,sBAAsB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2DAA2D;AAC3D,6BAA6B,EAAE;AAC/B;;AAEA,SAAS,oBAAoB;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA;AACA;;AAEA,2BAA2B;AAC3B,CAAC;;;;;;;;;;;ACpKD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA,gEAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,SAAS,EAAE;AAClD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,qCAAqC,oBAAoB;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA,cAAc;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,yBAAyB;AACpC,WAAW,QAAQ;AACnB;AACA;AACA,yDAAyD,mCAAmC;AAC5F,oBAAoB,uBAAuB;AAC3C,QAAQ,oBAAoB;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,aAAa;AACxB;AACA;AACA;AACA,8BAA8B;AAC9B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,YAAY,oBAAoB;AAChC;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,wDAAwD,UAAU,EAAE;AACpE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,iBAAiB,EAAE;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC1VA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;;;;;;;ACnBA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;;AAEA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;;AAEA;AACA;AACA,wCAAwC,4BAA4B;AACpE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD,SAAS;AACT;AACA,SAAS;AACT,8EAA8E;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,uBAAuB;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,uCAAuC,0BAA0B;AACjE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA+B,0BAA0B,eAAe;AACxE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA,CAAC;;;;;;;;;;ACzcD;;AACA;;AACA;;AAGA;;;;;;AAPI,IAAIA,OAAO,mBAAAC,CAAQ,CAAR,CAAX;;AAQJD,KAAKE,IAAL,CAAU,KAAV,EAAiB,slBAAjB,EAAymB,EAAzmB,EAA6mB,EAA7mB,EAAinB,UAASC,IAAT,EAAe;AAC9nB,MAAIC,OAAO,IAAX;AACAA,OAAKC,IAAL,GAAY,KAAZ;AACAD,OAAKE,EAAL,CAAQ,cA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;;;ACLrB,yC;;;;;;ACAA;AACA;;AAEA,CAAC;;AAED;AACA;AAAA;AAAA;AAAA;AAAA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uB;AACA;AACA;AACA,SAAS;AACT,6BAA6B;;AAE7B;AACA,yB;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB;AAChB,KAAK;AACL,gBAAgB;AAChB,KAAK;AACL,gBAAgB;AAChB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;AC1dD,CAAC,8BAA8B;;AAE/B;AACA;AACA,YAAY;AACZ;;AAEA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB,gBAAgB,WAAW;AAC3B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,iBAAiB,SAAS;AAC1B,iBAAiB,WAAW;AAC5B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,oBAAoB;AACnD;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B,iBAAiB,WAAW;AAC5B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,YAAY;AAC/B;AACA;;AAEA;;AAEA,mBAAmB,aAAa;AAChC;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;;AAEA,CAAC,qD;;;;;;ACpID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bc2cdb030f89b5889fc5","/* Riot v3.6.0, @license MIT */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.riot = global.riot || {})));\n}(this, (function (exports) { 'use strict';\n\nvar __TAGS_CACHE = [];\nvar __TAG_IMPL = {};\nvar GLOBAL_MIXIN = '__global_mixin';\nvar ATTRS_PREFIX = 'riot-';\nvar REF_DIRECTIVES = ['ref', 'data-ref'];\nvar IS_DIRECTIVE = 'data-is';\nvar CONDITIONAL_DIRECTIVE = 'if';\nvar LOOP_DIRECTIVE = 'each';\nvar LOOP_NO_REORDER_DIRECTIVE = 'no-reorder';\nvar SHOW_DIRECTIVE = 'show';\nvar HIDE_DIRECTIVE = 'hide';\nvar RIOT_EVENTS_KEY = '__riot-events__';\nvar T_STRING = 'string';\nvar T_OBJECT = 'object';\nvar T_UNDEF  = 'undefined';\nvar T_FUNCTION = 'function';\nvar XLINK_NS = 'http://www.w3.org/1999/xlink';\nvar SVG_NS = 'http://www.w3.org/2000/svg';\nvar XLINK_REGEX = /^xlink:(\\w+)/;\nvar WIN = typeof window === T_UNDEF ? undefined : window;\nvar RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/;\nvar RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;\nvar RE_EVENTS_PREFIX = /^on/;\nvar RE_RESERVED_NAMES = /^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|refs|parent|opts|trigger|o(?:n|ff|ne))$/;\nvar RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g;\nvar CASE_SENSITIVE_ATTRIBUTES = { 'viewbox': 'viewBox' };\nvar RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/;\nvar IE_VERSION = (WIN && WIN.document || {}).documentMode | 0;\n\n/**\n * Check Check if the passed argument is undefined\n * @param   { String } value -\n * @returns { Boolean } -\n */\nfunction isBoolAttr(value) {\n  return RE_BOOL_ATTRS.test(value)\n}\n\n/**\n * Check if passed argument is a function\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isFunction(value) {\n  return typeof value === T_FUNCTION\n}\n\n/**\n * Check if passed argument is an object, exclude null\n * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isObject(value) {\n  return value && typeof value === T_OBJECT // typeof null is 'object'\n}\n\n/**\n * Check if passed argument is undefined\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isUndefined(value) {\n  return typeof value === T_UNDEF\n}\n\n/**\n * Check if passed argument is a string\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isString(value) {\n  return typeof value === T_STRING\n}\n\n/**\n * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n * @param { * } value -\n * @returns { Boolean } -\n */\nfunction isBlank(value) {\n  return isUndefined(value) || value === null || value === ''\n}\n\n/**\n * Check if passed argument is a kind of array\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isArray(value) {\n  return Array.isArray(value) || value instanceof Array\n}\n\n/**\n * Check whether object's property could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } -\n */\nfunction isWritable(obj, key) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, key);\n  return isUndefined(obj[key]) || descriptor && descriptor.writable\n}\n\n/**\n * Check if passed argument is a reserved name\n * @param   { String } value -\n * @returns { Boolean } -\n */\nfunction isReservedName(value) {\n  return RE_RESERVED_NAMES.test(value)\n}\n\nvar check = Object.freeze({\n\tisBoolAttr: isBoolAttr,\n\tisFunction: isFunction,\n\tisObject: isObject,\n\tisUndefined: isUndefined,\n\tisString: isString,\n\tisBlank: isBlank,\n\tisArray: isArray,\n\tisWritable: isWritable,\n\tisReservedName: isReservedName\n});\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nfunction $$(selector, ctx) {\n  return Array.prototype.slice.call((ctx || document).querySelectorAll(selector))\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Create a document fragment\n * @returns { Object } document fragment\n */\nfunction createFrag() {\n  return document.createDocumentFragment()\n}\n\n/**\n * Create a document text node\n * @returns { Object } create a text node to use as placeholder\n */\nfunction createDOMPlaceholder() {\n  return document.createTextNode('')\n}\n\n/**\n * Check if a DOM node is an svg tag\n * @param   { HTMLElement }  el - node we want to test\n * @returns {Boolean} true if it's an svg node\n */\nfunction isSvg(el) {\n  return !!el.ownerSVGElement\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @param   { Boolean } isSvg - true if we need to use an svg node\n * @returns { Object } DOM node just created\n */\nfunction mkEl(name) {\n  return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n}\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we'll inject new html\n * @param { String } html - html to inject\n */\n/* istanbul ignore next */\nfunction setInnerHTML(container, html) {\n  if (!isUndefined(container.innerHTML))\n    { container.innerHTML = html; }\n    // some browsers do not support innerHTML on the SVGs tags\n  else {\n    var doc = new DOMParser().parseFromString(html, 'application/xml');\n    var node = container.ownerDocument.importNode(doc.documentElement, true);\n    container.appendChild(node);\n  }\n}\n\n/**\n * Toggle the visibility of any DOM node\n * @param   { Object }  dom - DOM node we want to hide\n * @param   { Boolean } show - do we want to show it?\n */\n\nfunction toggleVisibility(dom, show) {\n  dom.style.display = show ? '' : 'none';\n  dom['hidden'] = show ? false : true;\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name);\n}\n\n/**\n * Convert a style object to a string\n * @param   { Object } style - style object we need to parse\n * @returns { String } resulting css string\n * @example\n * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n */\nfunction styleObjectToString(style) {\n  return Object.keys(style).reduce(function (acc, prop) {\n    return (acc + \" \" + prop + \": \" + (style[prop]) + \";\")\n  }, '')\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nfunction getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nfunction setAttr(dom, name, val) {\n  var xlink = XLINK_REGEX.exec(name);\n  if (xlink && xlink[1])\n    { dom.setAttributeNS(XLINK_NS, xlink[1], val); }\n  else\n    { dom.setAttribute(name, val); }\n}\n\n/**\n * Insert safely a tag to fix #1962 #1649\n * @param   { HTMLElement } root - children container\n * @param   { HTMLElement } curr - node to insert\n * @param   { HTMLElement } next - node that should preceed the current node inserted\n */\nfunction safeInsert(root, curr, next) {\n  root.insertBefore(curr, next.parentNode && next);\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nfunction walkAttrs(html, fn) {\n  if (!html)\n    { return }\n  var m;\n  while (m = RE_HTML_ATTRS.exec(html))\n    { fn(m[1].toLowerCase(), m[2] || m[3] || m[4]); }\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n * @param   { Object }   context - fn can optionally return an object, which is passed to children\n */\nfunction walkNodes(dom, fn, context) {\n  if (dom) {\n    var res = fn(dom, context);\n    var next;\n    // stop the recursion\n    if (res === false) { return }\n\n    dom = dom.firstChild;\n\n    while (dom) {\n      next = dom.nextSibling;\n      walkNodes(dom, fn, res);\n      dom = next;\n    }\n  }\n}\n\nvar dom = Object.freeze({\n\t$$: $$,\n\t$: $,\n\tcreateFrag: createFrag,\n\tcreateDOMPlaceholder: createDOMPlaceholder,\n\tisSvg: isSvg,\n\tmkEl: mkEl,\n\tsetInnerHTML: setInnerHTML,\n\ttoggleVisibility: toggleVisibility,\n\tremAttr: remAttr,\n\tstyleObjectToString: styleObjectToString,\n\tgetAttr: getAttr,\n\tsetAttr: setAttr,\n\tsafeInsert: safeInsert,\n\twalkAttrs: walkAttrs,\n\twalkNodes: walkNodes\n});\n\nvar styleNode;\nvar cssTextProp;\nvar byName = {};\nvar remainder = [];\nvar needsInject = false;\n\n// skip the following code on the server\nif (WIN) {\n  styleNode = (function () {\n    // create a new style element with the correct type\n    var newNode = mkEl('style');\n    setAttr(newNode, 'type', 'text/css');\n\n    // replace any user node or insert the new one into the head\n    var userNode = $('style[type=riot]');\n    /* istanbul ignore next */\n    if (userNode) {\n      if (userNode.id) { newNode.id = userNode.id; }\n      userNode.parentNode.replaceChild(newNode, userNode);\n    }\n    else { document.getElementsByTagName('head')[0].appendChild(newNode); }\n\n    return newNode\n  })();\n  cssTextProp = styleNode.styleSheet;\n}\n\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nvar styleManager = {\n  styleNode: styleNode,\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { String } css - css string\n   * @param { String } name - if it's passed we will map the css to a tagname\n   */\n  add: function add(css, name) {\n    if (name) { byName[name] = css; }\n    else { remainder.push(css); }\n    needsInject = true;\n  },\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   */\n  inject: function inject() {\n    if (!WIN || !needsInject) { return }\n    needsInject = false;\n    var style = Object.keys(byName)\n      .map(function(k) { return byName[k] })\n      .concat(remainder).join('\\n');\n    /* istanbul ignore next */\n    if (cssTextProp) { cssTextProp.cssText = style; }\n    else { styleNode.innerHTML = style; }\n  }\n};\n\n/**\n * The riot template engine\n * @version v3.0.8\n */\n\nvar skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n  var beforeReChars = '[{(,;:?=|&!^~>%*/';\n\n  var beforeReWords = [\n    'case',\n    'default',\n    'do',\n    'else',\n    'in',\n    'instanceof',\n    'prefix',\n    'return',\n    'typeof',\n    'void',\n    'yield'\n  ];\n\n  var wordsLastChar = beforeReWords.reduce(function (s, w) {\n    return s + w.slice(-1)\n  }, '');\n\n  var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/;\n  var RE_VN_CHAR = /[$\\w]/;\n\n  function prev (code, pos) {\n    while (--pos >= 0 && /\\s/.test(code[pos])){  }\n    return pos\n  }\n\n  function _skipRegex (code, start) {\n\n    var re = /.*/g;\n    var pos = re.lastIndex = start++;\n    var match = re.exec(code)[0].match(RE_REGEX);\n\n    if (match) {\n      var next = pos + match[0].length;\n\n      pos = prev(code, pos);\n      var c = code[pos];\n\n      if (pos < 0 || ~beforeReChars.indexOf(c)) {\n        return next\n      }\n\n      if (c === '.') {\n\n        if (code[pos - 1] === '.') {\n          start = next;\n        }\n\n      } else if (c === '+' || c === '-') {\n\n        if (code[--pos] !== c ||\n            (pos = prev(code, pos)) < 0 ||\n            !RE_VN_CHAR.test(code[pos])) {\n          start = next;\n        }\n\n      } else if (~wordsLastChar.indexOf(c)) {\n\n        var end = pos + 1;\n\n        while (--pos >= 0 && RE_VN_CHAR.test(code[pos])){  }\n        if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n          start = next;\n        }\n      }\n    }\n\n    return start\n  }\n\n  return _skipRegex\n\n})();\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\n/* global riot */\n\n/* istanbul ignore next */\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n    UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n    NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n    S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n    },\n\n    DEFAULT = '{ }';\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ];\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings;\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) { bp = _cache; }\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) { return _pairs }\n\n    var arr = pair.split(' ');\n\n    if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '));\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr);\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr);\n    arr[6] = _rewrite(_pairs[6], arr);\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB);\n    arr[8] = pair;\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) { _bp = _cache; }\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6];\n\n    var qblocks = [];\n    var prevStr = '';\n    var mark, lastIndex;\n\n    isexpr = start = re.lastIndex = 0;\n\n    while ((match = re.exec(str))) {\n\n      lastIndex = re.lastIndex;\n      pos = match.index;\n\n      if (isexpr) {\n\n        if (match[2]) {\n\n          var ch = match[2];\n          var rech = FINDBRACES[ch];\n          var ix = 1;\n\n          rech.lastIndex = lastIndex;\n          while ((match = rech.exec(str))) {\n            if (match[1]) {\n              if (match[1] === ch) { ++ix; }\n              else if (!--ix) { break }\n            } else {\n              rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2]);\n            }\n          }\n          re.lastIndex = ix ? str.length : rech.lastIndex;\n          continue\n        }\n\n        if (!match[3]) {\n          re.lastIndex = pushQBlock(pos, lastIndex, match[4]);\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos));\n        start = re.lastIndex;\n        re = _bp[6 + (isexpr ^= 1)];\n        re.lastIndex = start;\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start));\n    }\n\n    parts.qblocks = qblocks;\n\n    return parts\n\n    function unescapeStr (s) {\n      if (prevStr) {\n        s = prevStr + s;\n        prevStr = '';\n      }\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'));\n      } else {\n        parts.push(s);\n      }\n    }\n\n    function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n      if (slash) {\n        _lastIndex = skipRegex(str, _pos);\n      }\n\n      if (tmpl && _lastIndex > _pos + 2) {\n        mark = '\\u2057' + qblocks.length + '~';\n        qblocks.push(str.slice(_pos, _lastIndex));\n        prevStr += str.slice(start, _pos) + mark;\n        start = _lastIndex;\n      }\n      return _lastIndex\n    }\n  };\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  };\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9]);\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  };\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  };\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair);\n      _regex = pair === DEFAULT ? _loopback : _rewrite;\n      _cache[9] = _regex(_pairs[9]);\n    }\n    cachedBrackets = pair;\n  }\n\n  function _setSettings (o) {\n    var b;\n\n    o = o || {};\n    b = o.brackets;\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    });\n    _settings = o;\n    _reset(b);\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  });\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {};\n  _brackets.set = _reset;\n  _brackets.skipRegex = skipRegex;\n\n  _brackets.R_STRINGS = R_STRINGS;\n  _brackets.R_MLCOMMS = R_MLCOMMS;\n  _brackets.S_QBLOCKS = S_QBLOCKS;\n  _brackets.S_QBLOCK2 = S_QBLOCK2;\n\n  return _brackets\n\n})();\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\n/* istanbul ignore next */\nvar tmpl = (function () {\n\n  var _cache = {};\n\n  function _tmpl (str, data) {\n    if (!str) { return str }\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(\n      data, _logErr.bind({\n        data: data,\n        tmpl: str\n      })\n    )\n  }\n\n  _tmpl.hasExpr = brackets.hasExpr;\n\n  _tmpl.loopKeys = brackets.loopKeys;\n\n  // istanbul ignore next\n  _tmpl.clearCache = function () { _cache = {}; };\n\n  _tmpl.errorHandler = null;\n\n  function _logErr (err, ctx) {\n\n    err.riotData = {\n      tagName: ctx && ctx.__ && ctx.__.tagName,\n      _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n    };\n\n    if (_tmpl.errorHandler) { _tmpl.errorHandler(err); }\n    else if (\n      typeof console !== 'undefined' &&\n      typeof console.error === 'function'\n    ) {\n      console.error(err.message);\n      console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl); // eslint-disable-line\n      console.log(this.data); // eslint-disable-line\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str);\n\n    if (expr.slice(0, 11) !== 'try{return ') { expr = 'return ' + expr; }\n\n    return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n  }\n\n  var RE_DQUOTE = /\\u2057/g;\n  var RE_QBMARK = /\\u2057(\\d+)~/g;\n\n  function _getTmpl (str) {\n    var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1);\n    var qstr = parts.qblocks;\n    var expr;\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = [];\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i];\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) { list[j++] = expr; }\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")';\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr);\n    }\n\n    if (qstr.length) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      });\n    }\n    return expr\n  }\n\n  var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/;\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    };\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n      .replace(/\\s+/g, ' ').trim()\n      .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1');\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match;\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g;\n\n        expr = RegExp.rightContext;\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1];\n\n        while (jsb = (match = re.exec(expr))[1]) { skipBraces(jsb, re); }\n\n        jsb  = expr.slice(0, match.index);\n        expr = RegExp.rightContext;\n\n        list[cnt++] = _wrapExpr(jsb, 1, key);\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0];\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch];\n\n      ir.lastIndex = re.lastIndex;\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) { ++lv; }\n        else if (!--lv) { break }\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex;\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/;\n\n  function _wrapExpr (expr, asText, key) {\n    var tb;\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length;\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar;\n          if (pos) { tb = (s = s[pos]) === '.' || s === '(' || s === '['; }\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos));\n        }\n      }\n      return match\n    });\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}';\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"';\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)';\n    }\n\n    return expr\n  }\n\n  _tmpl.version = brackets.version = 'v3.0.8';\n\n  return _tmpl\n\n})();\n\n/* istanbul ignore next */\nvar observable$1 = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {};\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice;\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          { (callbacks[event] = callbacks[event] || []).push(fn); }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) { callbacks = {}; }\n        else {\n          if (fn) {\n            var arr = callbacks[event];\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) { arr.splice(i--, 1); }\n            }\n          } else { delete callbacks[event]; }\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on);\n          fn.apply(el, arguments);\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n        var arguments$1 = arguments;\n\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i;\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments$1[i + 1]; // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0);\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args);\n        }\n\n        if (callbacks['*'] && event != '*')\n          { el.trigger.apply(el, ['*', event].concat(args)); }\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  });\n\n  return el\n\n};\n\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } list - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nfunction each(list, fn) {\n  var len = list ? list.length : 0;\n  var i = 0;\n  for (; i < len; ++i) {\n    fn(list[i], i);\n  }\n  return list\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } array - target array\n * @param   { * } item - item to test\n * @returns { Boolean } -\n */\nfunction contains(array, item) {\n  return array.indexOf(item) !== -1\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } str - input string\n * @returns { String } my-string -> myString\n */\nfunction toCamel(str) {\n  return str.replace(/-(\\w)/g, function (_, c) { return c.toUpperCase(); })\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } str - source string\n * @param   { String } value - test string\n * @returns { Boolean } -\n */\nfunction startsWith(str, value) {\n  return str.slice(0, value.length) === value\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n * @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nfunction defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value: value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options));\n  return el\n}\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nfunction extend(src) {\n  var obj, args = arguments;\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          { src[key] = obj[key]; }\n      }\n    }\n  }\n  return src\n}\n\nvar misc = Object.freeze({\n\teach: each,\n\tcontains: contains,\n\ttoCamel: toCamel,\n\tstartsWith: startsWith,\n\tdefineProperty: defineProperty,\n\textend: extend\n});\n\nvar settings$1 = extend(Object.create(brackets.settings), {\n  skipAnonymousTags: true,\n  // handle the auto updates on any DOM event\n  autoUpdate: true\n});\n\n/**\n * Trigger DOM events\n * @param   { HTMLElement } dom - dom element target of the event\n * @param   { Function } handler - user function\n * @param   { Object } e - event object\n */\nfunction handleEvent(dom, handler, e) {\n  var ptag = this.__.parent,\n    item = this.__.item;\n\n  if (!item)\n    { while (ptag && !item) {\n      item = ptag.__.item;\n      ptag = ptag.__.parent;\n    } }\n\n  // override the event properties\n  /* istanbul ignore next */\n  if (isWritable(e, 'currentTarget')) { e.currentTarget = dom; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'target')) { e.target = e.srcElement; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'which')) { e.which = e.charCode || e.keyCode; }\n\n  e.item = item;\n\n  handler.call(this, e);\n\n  // avoid auto updates\n  if (!settings$1.autoUpdate) { return }\n\n  if (!e.preventUpdate) {\n    var p = getImmediateCustomParentTag(this);\n    // fixes #2083\n    if (p.isMounted) { p.update(); }\n  }\n}\n\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nfunction setEventHandler(name, handler, dom, tag) {\n  var eventName,\n    cb = handleEvent.bind(tag, dom, handler);\n\n  // avoid to bind twice the same event\n  // possible fix for #2332\n  dom[name] = null;\n\n  // normalize event name\n  eventName = name.replace(RE_EVENTS_PREFIX, '');\n\n  // cache the listener into the listeners array\n  if (!contains(tag.__.listeners, dom)) { tag.__.listeners.push(dom); }\n  if (!dom[RIOT_EVENTS_KEY]) { dom[RIOT_EVENTS_KEY] = {}; }\n  if (dom[RIOT_EVENTS_KEY][name]) { dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name]); }\n\n  dom[RIOT_EVENTS_KEY][name] = cb;\n  dom.addEventListener(eventName, cb, false);\n}\n\n/**\n * Update dynamically created data-is tags with changing expressions\n * @param { Object } expr - expression tag and expression info\n * @param { Tag }    parent - parent for tag creation\n * @param { String } tagName - tag implementation we want to use\n */\nfunction updateDataIs(expr, parent, tagName) {\n  var conf, isVirtual, head, ref;\n\n  if (expr.tag && expr.tagName === tagName) {\n    expr.tag.update();\n    return\n  }\n\n  isVirtual = expr.dom.tagName === 'VIRTUAL';\n  // sync _parent to accommodate changing tagnames\n  if (expr.tag) {\n    // need placeholder before unmount\n    if(isVirtual) {\n      head = expr.tag.__.head;\n      ref = createDOMPlaceholder();\n      head.parentNode.insertBefore(ref, head);\n    }\n\n    expr.tag.unmount(true);\n  }\n\n  if (!isString(tagName)) { return }\n\n  expr.impl = __TAG_IMPL[tagName];\n  conf = {root: expr.dom, parent: parent, hasImpl: true, tagName: tagName};\n  expr.tag = initChildTag(expr.impl, conf, expr.dom.innerHTML, parent);\n  each(expr.attrs, function (a) { return setAttr(expr.tag.root, a.name, a.value); });\n  expr.tagName = tagName;\n  expr.tag.mount();\n  if (isVirtual)\n    { makeReplaceVirtual(expr.tag, ref || expr.tag.root); } // root exist first time, after use placeholder\n\n  // parent is the placeholder tag, not the dynamic tag so clean up\n  parent.__.onUnmount = function() {\n    var delName = expr.tag.opts.dataIs,\n      tags = expr.tag.parent.tags,\n      _tags = expr.tag.__.parent.tags;\n    arrayishRemove(tags, delName, expr.tag);\n    arrayishRemove(_tags, delName, expr.tag);\n    expr.tag.unmount();\n  };\n}\n\n/**\n * Nomalize any attribute removing the \"riot-\" prefix\n * @param   { String } attrName - original attribute name\n * @returns { String } valid html attribute name\n */\nfunction normalizeAttrName(attrName) {\n  if (!attrName) { return null }\n  attrName = attrName.replace(ATTRS_PREFIX, '');\n  if (CASE_SENSITIVE_ATTRIBUTES[attrName]) { attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]; }\n  return attrName\n}\n\n/**\n * Update on single tag expression\n * @this Tag\n * @param { Object } expr - expression logic\n * @returns { undefined }\n */\nfunction updateExpression(expr) {\n  if (this.root && getAttr(this.root,'virtualized')) { return }\n\n  var dom = expr.dom,\n    // remove the riot- prefix\n    attrName = normalizeAttrName(expr.attr),\n    isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName),\n    isVirtual = expr.root && expr.root.tagName === 'VIRTUAL',\n    parent = dom && (expr.parent || dom.parentNode),\n    // detect the style attributes\n    isStyleAttr = attrName === 'style',\n    isClassAttr = attrName === 'class',\n    hasValue,\n    isObj,\n    value;\n\n  // if it's a tag we could totally skip the rest\n  if (expr._riot_id) {\n    if (expr.isMounted) {\n      expr.update();\n    // if it hasn't been mounted yet, do that now.\n    } else {\n      expr.mount();\n      if (isVirtual) {\n        makeReplaceVirtual(expr, expr.root);\n      }\n    }\n    return\n  }\n  // if this expression has the update method it means it can handle the DOM changes by itself\n  if (expr.update) { return expr.update() }\n\n  // ...it seems to be a simple expression so we try to calculat its value\n  value = tmpl(expr.expr, isToggle ? extend({}, Object.create(this.parent), this) : this);\n  hasValue = !isBlank(value);\n  isObj = isObject(value);\n\n  // convert the style/class objects to strings\n  if (isObj) {\n    isObj = !isClassAttr && !isStyleAttr;\n    if (isClassAttr) {\n      value = tmpl(JSON.stringify(value), this);\n    } else if (isStyleAttr) {\n      value = styleObjectToString(value);\n    }\n  }\n\n  // remove original attribute\n  if (expr.attr && (!expr.isAttrRemoved || !hasValue || value === false)) {\n    remAttr(dom, expr.attr);\n    expr.isAttrRemoved = true;\n  }\n\n  // for the boolean attributes we don't need the value\n  // we can convert it to checked=true to checked=checked\n  if (expr.bool) { value = value ? attrName : false; }\n  if (expr.isRtag) { return updateDataIs(expr, this, value) }\n  if (expr.wasParsedOnce && expr.value === value) { return }\n\n  // update the expression value\n  expr.value = value;\n  expr.wasParsedOnce = true;\n\n  // if the value is an object we can not do much more with it\n  if (isObj && !isToggle) { return }\n  // avoid to render undefined/null values\n  if (isBlank(value)) { value = ''; }\n\n  // textarea and text nodes have no attribute name\n  if (!attrName) {\n    // about #815 w/o replace: the browser converts the value to a string,\n    // the comparison by \"==\" does too, but not in the server\n    value += '';\n    // test for parent avoids error with invalid assignment to nodeValue\n    if (parent) {\n      // cache the parent node because somehow it will become null on IE\n      // on the next iteration\n      expr.parent = parent;\n      if (parent.tagName === 'TEXTAREA') {\n        parent.value = value;                    // #1113\n        if (!IE_VERSION) { dom.nodeValue = value; }  // #1625 IE throws here, nodeValue\n      }                                         // will be available on 'updated'\n      else { dom.nodeValue = value; }\n    }\n    return\n  }\n\n\n  // event handler\n  if (isFunction(value)) {\n    setEventHandler(attrName, value, dom, this);\n  // show / hide\n  } else if (isToggle) {\n    toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value);\n  // handle attributes\n  } else {\n    if (expr.bool) {\n      dom[attrName] = value;\n    }\n\n    if (attrName === 'value' && dom.value !== value) {\n      dom.value = value;\n    }\n\n    if (hasValue && value !== false) {\n      setAttr(dom, attrName, value);\n    }\n\n    // make sure that in case of style changes\n    // the element stays hidden\n    if (isStyleAttr && dom.hidden) { toggleVisibility(dom, false); }\n  }\n}\n\n/**\n * Update all the expressions in a Tag instance\n * @this Tag\n * @param { Array } expressions - expression that must be re evaluated\n */\nfunction updateAllExpressions(expressions) {\n  each(expressions, updateExpression.bind(this));\n}\n\nvar IfExpr = {\n  init: function init(dom, tag, expr) {\n    remAttr(dom, CONDITIONAL_DIRECTIVE);\n    this.tag = tag;\n    this.expr = expr;\n    this.stub = createDOMPlaceholder();\n    this.pristine = dom;\n\n    var p = dom.parentNode;\n    p.insertBefore(this.stub, dom);\n    p.removeChild(dom);\n\n    return this\n  },\n  update: function update() {\n    this.value = tmpl(this.expr, this.tag);\n\n    if (this.value && !this.current) { // insert\n      this.current = this.pristine.cloneNode(true);\n      this.stub.parentNode.insertBefore(this.current, this.stub);\n      this.expressions = [];\n      parseExpressions.apply(this.tag, [this.current, this.expressions, true]);\n    } else if (!this.value && this.current) { // remove\n      unmountAll(this.expressions);\n      if (this.current._tag) {\n        this.current._tag.unmount();\n      } else if (this.current.parentNode) {\n        this.current.parentNode.removeChild(this.current);\n      }\n      this.current = null;\n      this.expressions = [];\n    }\n\n    if (this.value) { updateAllExpressions.call(this.tag, this.expressions); }\n  },\n  unmount: function unmount() {\n    unmountAll(this.expressions || []);\n  }\n};\n\nvar RefExpr = {\n  init: function init(dom, parent, attrName, attrValue) {\n    this.dom = dom;\n    this.attr = attrName;\n    this.rawValue = attrValue;\n    this.parent = parent;\n    this.hasExp = tmpl.hasExpr(attrValue);\n    return this\n  },\n  update: function update() {\n    var old = this.value;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n    var tagOrDom = this.dom.__ref || this.tag || this.dom;\n\n    this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue;\n\n    // the name changed, so we need to remove it from the old key (if present)\n    if (!isBlank(old) && customParent) { arrayishRemove(customParent.refs, old, tagOrDom); }\n    if (!isBlank(this.value) && isString(this.value)) {\n      // add it to the refs of parent tag (this behavior was changed >=3.0)\n      if (customParent) { arrayishAdd(\n        customParent.refs,\n        this.value,\n        tagOrDom,\n        // use an array if it's a looped node and the ref is not an expression\n        null,\n        this.parent.__.index\n      ); }\n\n      if (this.value !== old) {\n        setAttr(this.dom, this.attr, this.value);\n      }\n    } else {\n      remAttr(this.dom, this.attr);\n    }\n\n    // cache the ref bound to this dom node\n    // to reuse it in future (see also #2329)\n    if (!this.dom.__ref) { this.dom.__ref = tagOrDom; }\n  },\n  unmount: function unmount() {\n    var tagOrDom = this.tag || this.dom;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    if (!isBlank(this.value) && customParent)\n      { arrayishRemove(customParent.refs, this.value, tagOrDom); }\n  }\n};\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @param   { Object } base - prototype object for the new item\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val, base) {\n  var item = base ? Object.create(base) : {};\n  item[expr.key] = key;\n  if (expr.pos) { item[expr.pos] = val; }\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n  var i = tags.length,\n    j = items.length;\n\n  while (i > j) {\n    i--;\n    remove.apply(tags[i], [tags, i]);\n  }\n}\n\n\n/**\n * Remove a child tag\n * @this Tag\n * @param   { Array } tags - tags collection\n * @param   { Number } i - index of the tag to remove\n */\nfunction remove(tags, i) {\n  tags.splice(i, 1);\n  this.unmount();\n  arrayishRemove(this.parent, this, this.__.tagName, true);\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @this Tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(i) {\n  var this$1 = this;\n\n  each(Object.keys(this.tags), function (tagName) {\n    moveChildTag.apply(this$1.tags[tagName], [tagName, i]);\n  });\n}\n\n/**\n * Move a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction move(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { moveVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Insert and mount a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction insert(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Append a new tag into the DOM\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction append(root, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.call(this, root); }\n  else\n    { root.appendChild(this.root); }\n}\n\n/**\n * Manage tags having the 'each'\n * @param   { HTMLElement } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n * @returns { Object } expression object for this each loop\n */\nfunction _each(dom, parent, expr) {\n\n  // remove the each property from the original tag\n  remAttr(dom, LOOP_DIRECTIVE);\n\n  var mustReorder = typeof getAttr(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || remAttr(dom, LOOP_NO_REORDER_DIRECTIVE),\n    tagName = getTagName(dom),\n    impl = __TAG_IMPL[tagName],\n    parentNode = dom.parentNode,\n    placeholder = createDOMPlaceholder(),\n    child = getTag(dom),\n    ifExpr = getAttr(dom, CONDITIONAL_DIRECTIVE),\n    tags = [],\n    oldItems = [],\n    hasKeys,\n    isLoop = true,\n    isAnonymous = !__TAG_IMPL[tagName],\n    isVirtual = dom.tagName === 'VIRTUAL';\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr);\n  expr.isLoop = true;\n\n  if (ifExpr) { remAttr(dom, CONDITIONAL_DIRECTIVE); }\n\n  // insert a marked where the loop tags will be injected\n  parentNode.insertBefore(placeholder, dom);\n  parentNode.removeChild(dom);\n\n  expr.update = function updateEach() {\n    // get the new items collection\n    expr.value = tmpl(expr.val, parent);\n\n    var frag = createFrag(),\n      items = expr.value,\n      isObject$$1 = !isArray(items) && !isString(items),\n      root = placeholder.parentNode;\n\n    // if this DOM was removed the update here is useless\n    // this condition fixes also a weird async issue on IE in our unit test\n    if (!root) { return }\n\n    // object loop. any changes cause full redraw\n    if (isObject$$1) {\n      hasKeys = items || false;\n      items = hasKeys ?\n        Object.keys(items).map(function (key) {\n          return mkitem(expr, items[key], key)\n        }) : [];\n    } else {\n      hasKeys = false;\n    }\n\n    if (ifExpr) {\n      items = items.filter(function(item, i) {\n        if (expr.key && !isObject$$1)\n          { return !!tmpl(ifExpr, mkitem(expr, item, i, parent)) }\n\n        return !!tmpl(ifExpr, extend(Object.create(parent), item))\n      });\n    }\n\n    // loop all the new items\n    each(items, function(item, i) {\n      // reorder only if the items are objects\n      var\n        doReorder = mustReorder && typeof item === T_OBJECT && !hasKeys,\n        oldPos = oldItems.indexOf(item),\n        isNew = oldPos === -1,\n        pos = !isNew && doReorder ? oldPos : i,\n        // does a tag exist in this position?\n        tag = tags[pos],\n        mustAppend = i >= oldItems.length,\n        mustCreate =  doReorder && isNew || !doReorder && !tag;\n\n      item = !hasKeys && expr.key ? mkitem(expr, item, i) : item;\n\n      // new tag\n      if (mustCreate) {\n        tag = new Tag$1(impl, {\n          parent: parent,\n          isLoop: isLoop,\n          isAnonymous: isAnonymous,\n          tagName: tagName,\n          root: dom.cloneNode(isAnonymous),\n          item: item,\n          index: i,\n        }, dom.innerHTML);\n\n        // mount the tag\n        tag.mount();\n\n        if (mustAppend)\n          { append.apply(tag, [frag || root, isVirtual]); }\n        else\n          { insert.apply(tag, [root, tags[i], isVirtual]); }\n\n        if (!mustAppend) { oldItems.splice(i, 0, item); }\n        tags.splice(i, 0, tag);\n        if (child) { arrayishAdd(parent.tags, tagName, tag, true); }\n      } else if (pos !== i && doReorder) {\n        // move\n        if (contains(items, oldItems[pos])) {\n          move.apply(tag, [root, tags[i], isVirtual]);\n          // move the old tag instance\n          tags.splice(i, 0, tags.splice(pos, 1)[0]);\n          // move the old item\n          oldItems.splice(i, 0, oldItems.splice(pos, 1)[0]);\n        }\n\n        // update the position attribute if it exists\n        if (expr.pos) { tag[expr.pos] = i; }\n\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) { moveNestedTags.call(tag, i); }\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag.__.item = item;\n      tag.__.index = i;\n      tag.__.parent = parent;\n\n      if (!mustCreate) { tag.update(item); }\n    });\n\n    // remove the redundant tags\n    unmountRedundant(items, tags);\n\n    // clone the items array\n    oldItems = items.slice();\n\n    // this condition is weird u\n    root.insertBefore(frag, placeholder);\n  };\n\n  expr.unmount = function() {\n    each(tags, function(t) { t.unmount(); });\n  };\n\n  return expr\n}\n\n/**\n * Walk the tag DOM to detect the expressions to evaluate\n * @this Tag\n * @param   { HTMLElement } root - root tag where we will start digging the expressions\n * @param   { Array } expressions - empty array where the expressions will be added\n * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n * @returns { Object } an object containing the root noode and the dom tree\n */\nfunction parseExpressions(root, expressions, mustIncludeRoot) {\n  var this$1 = this;\n\n  var tree = {parent: {children: expressions}};\n\n  walkNodes(root, function (dom, ctx) {\n    var type = dom.nodeType, parent = ctx.parent, attr, expr, tagImpl;\n    if (!mustIncludeRoot && dom === root) { return {parent: parent} }\n\n    // text node\n    if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n      { parent.children.push({dom: dom, expr: dom.nodeValue}); }\n\n    if (type !== 1) { return ctx } // not an element\n\n    var isVirtual = dom.tagName === 'VIRTUAL';\n\n    // loop. each does it's own thing (for now)\n    if (attr = getAttr(dom, LOOP_DIRECTIVE)) {\n      if(isVirtual) { setAttr(dom, 'loopVirtual', true); } // ignore here, handled in _each\n      parent.children.push(_each(dom, this$1, attr));\n      return false\n    }\n\n    // if-attrs become the new parent. Any following expressions (either on the current\n    // element, or below it) become children of this expression.\n    if (attr = getAttr(dom, CONDITIONAL_DIRECTIVE)) {\n      parent.children.push(Object.create(IfExpr).init(dom, this$1, attr));\n      return false\n    }\n\n    if (expr = getAttr(dom, IS_DIRECTIVE)) {\n      if (tmpl.hasExpr(expr)) {\n        parent.children.push({isRtag: true, expr: expr, dom: dom, attrs: [].slice.call(dom.attributes)});\n        return false\n      }\n    }\n\n    // if this is a tag, stop traversing here.\n    // we ignore the root, since parseExpressions is called while we're mounting that root\n    tagImpl = getTag(dom);\n    if(isVirtual) {\n      if(getAttr(dom, 'virtualized')) {dom.parentElement.removeChild(dom); } // tag created, remove from dom\n      if(!tagImpl && !getAttr(dom, 'virtualized') && !getAttr(dom, 'loopVirtual'))  // ok to create virtual tag\n        { tagImpl = { tmpl: dom.outerHTML }; }\n    }\n\n    if (tagImpl && (dom !== root || mustIncludeRoot)) {\n      if(isVirtual && !getAttr(dom, IS_DIRECTIVE)) { // handled in update\n        // can not remove attribute like directives\n        // so flag for removal after creation to prevent maximum stack error\n        setAttr(dom, 'virtualized', true);\n\n        var tag = new Tag$1({ tmpl: dom.outerHTML },\n          {root: dom, parent: this$1},\n          dom.innerHTML);\n        parent.children.push(tag); // no return, anonymous tag, keep parsing\n      } else {\n        var conf = {root: dom, parent: this$1, hasImpl: true};\n        parent.children.push(initChildTag(tagImpl, conf, dom.innerHTML, this$1));\n        return false\n      }\n    }\n\n    // attribute expressions\n    parseAttributes.apply(this$1, [dom, dom.attributes, function(attr, expr) {\n      if (!expr) { return }\n      parent.children.push(expr);\n    }]);\n\n    // whatever the parent is, all child elements get the same parent.\n    // If this element had an if-attr, that's the parent for all child elements\n    return {parent: parent}\n  }, tree);\n}\n\n/**\n * Calls `fn` for every attribute on an element. If that attr has an expression,\n * it is also passed to fn.\n * @this Tag\n * @param   { HTMLElement } dom - dom node to parse\n * @param   { Array } attrs - array of attributes\n * @param   { Function } fn - callback to exec on any iteration\n */\nfunction parseAttributes(dom, attrs, fn) {\n  var this$1 = this;\n\n  each(attrs, function (attr) {\n    if (!attr) { return false }\n\n    var name = attr.name, bool = isBoolAttr(name), expr;\n\n    if (contains(REF_DIRECTIVES, name)) {\n      expr =  Object.create(RefExpr).init(dom, this$1, name, attr.value);\n    } else if (tmpl.hasExpr(attr.value)) {\n      expr = {dom: dom, expr: attr.value, attr: name, bool: bool};\n    }\n\n    fn(attr, expr);\n  });\n}\n\n/*\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\n\nvar reHasYield  = /<yield\\b/i;\nvar reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig;\nvar reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig;\nvar reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig;\nvar rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' };\nvar tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION;\nvar GENERIC = 'div';\nvar SVG = 'svg';\n\n\n/*\n  Creates the root element for table or select child elements:\n  tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n*/\nfunction specialTags(el, tmpl, tagName) {\n\n  var\n    select = tagName[0] === 'o',\n    parent = select ? 'select>' : 'table>';\n\n  // trim() is important here, this ensures we don't have artifacts,\n  // so we can check if we have only one element inside the parent\n  el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent;\n  parent = el.firstChild;\n\n  // returns the immediate parent if tr/th/td/col is the only element, if not\n  // returns the whole tree, as this can include additional elements\n  /* istanbul ignore next */\n  if (select) {\n    parent.selectedIndex = -1;  // for IE9, compatible w/current riot behavior\n  } else {\n    // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n    var tname = rootEls[tagName];\n    if (tname && parent.childElementCount === 1) { parent = $(tname, parent); }\n  }\n  return parent\n}\n\n/*\n  Replace the yield tag from any tag template with the innerHTML of the\n  original tag in the page\n*/\nfunction replaceYield(tmpl, html) {\n  // do nothing if no yield\n  if (!reHasYield.test(tmpl)) { return tmpl }\n\n  // be careful with #1343 - string on the source having `$1`\n  var src = {};\n\n  html = html && html.replace(reYieldSrc, function (_, ref, text) {\n    src[ref] = src[ref] || text;   // preserve first definition\n    return ''\n  }).trim();\n\n  return tmpl\n    .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n      return src[ref] || def || ''\n    })\n    .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n      return html || def || ''\n    })\n}\n\n/**\n * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n *\n * @param   { String } tmpl  - The template coming from the custom tag definition\n * @param   { String } html - HTML content that comes from the DOM element where you\n *           will mount the tag, mostly the original tag in the page\n * @param   { Boolean } isSvg - true if the root node is an svg\n * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n */\nfunction mkdom(tmpl, html, isSvg$$1) {\n  var match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/),\n    tagName = match && match[1].toLowerCase(),\n    el = mkEl(isSvg$$1 ? SVG : GENERIC);\n\n  // replace all the yield tags with the tag inner html\n  tmpl = replaceYield(tmpl, html);\n\n  /* istanbul ignore next */\n  if (tblTags.test(tagName))\n    { el = specialTags(el, tmpl, tagName); }\n  else\n    { setInnerHTML(el, tmpl); }\n\n  return el\n}\n\n/**\n * Another way to create a riot tag a bit more es6 friendly\n * @param { HTMLElement } el - tag DOM selector or DOM node/s\n * @param { Object } opts - tag logic\n * @returns { Tag } new riot tag instance\n */\nfunction Tag$2(el, opts) {\n  // get the tag properties from the class constructor\n  var ref = this;\n  var name = ref.name;\n  var tmpl = ref.tmpl;\n  var css = ref.css;\n  var attrs = ref.attrs;\n  var onCreate = ref.onCreate;\n  // register a new tag and cache the class prototype\n  if (!__TAG_IMPL[name]) {\n    tag$1(name, tmpl, css, attrs, onCreate);\n    // cache the class constructor\n    __TAG_IMPL[name].class = this.constructor;\n  }\n\n  // mount the tag using the class instance\n  mountTo(el, name, opts, this);\n  // inject the component css\n  if (css) { styleManager.inject(); }\n\n  return this\n}\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag$1(name, tmpl, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs;\n\n    if (/^[\\w\\-]+\\s?=/.test(css)) {\n      attrs = css;\n      css = '';\n    } else\n      { attrs = ''; }\n  }\n\n  if (css) {\n    if (isFunction(css))\n      { fn = css; }\n    else\n      { styleManager.add(css); }\n  }\n\n  name = name.toLowerCase();\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag2$1(name, tmpl, css, attrs, fn) {\n  if (css) { styleManager.add(css, name); }\n\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { * } selector - tag DOM selector or DOM node/s\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nfunction mount$1(selector, tagName, opts) {\n  var tags = [];\n  var elem, allTags;\n\n  function pushTagsTo(root) {\n    if (root.tagName) {\n      var riotTag = getAttr(root, IS_DIRECTIVE), tag;\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName;\n        setAttr(root, IS_DIRECTIVE, tagName);\n      }\n\n      tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts);\n\n      if (tag)\n        { tags.push(tag); }\n    } else if (root.length)\n      { each(root, pushTagsTo); } // assume nodeList\n  }\n\n  // inject styles into DOM\n  styleManager.inject();\n\n  if (isObject(tagName)) {\n    opts = tagName;\n    tagName = 0;\n  }\n\n  // crawl the DOM to find the tag\n  if (isString(selector)) {\n    selector = selector === '*' ?\n      // select all registered tags\n      // & tags found with the riot-tag attribute set\n      allTags = selectTags() :\n      // or just the ones named like the selector\n      selector + selectTags(selector.split(/, */));\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    elem = selector ? $$(selector) : [];\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    { elem = selector; }\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectTags();\n    // if the root els it's just a single tag\n    if (elem.tagName)\n      { elem = $$(tagName, elem); }\n    else {\n      // select all the children for all the different root elements\n      var nodeList = [];\n\n      each(elem, function (_el) { return nodeList.push($$(tagName, _el)); });\n\n      elem = nodeList;\n    }\n    // get rid of the tagName\n    tagName = 0;\n  }\n\n  pushTagsTo(elem);\n\n  return tags\n}\n\n// Create a mixin that could be globally shared across all the tags\nvar mixins = {};\nvar globals = mixins[GLOBAL_MIXIN] = {};\nvar mixins_id = 0;\n\n/**\n * Create/Return a mixin by its name\n * @param   { String }  name - mixin name (global mixin if object)\n * @param   { Object }  mix - mixin logic\n * @param   { Boolean } g - is global?\n * @returns { Object }  the mixin logic\n */\nfunction mixin$1(name, mix, g) {\n  // Unnamed global\n  if (isObject(name)) {\n    mixin$1((\"__\" + (mixins_id++) + \"__\"), name, true);\n    return\n  }\n\n  var store = g ? globals : mixins;\n\n  // Getter\n  if (!mix) {\n    if (isUndefined(store[name]))\n      { throw new Error((\"Unregistered mixin: \" + name)) }\n\n    return store[name]\n  }\n\n  // Setter\n  store[name] = isFunction(mix) ?\n    extend(mix.prototype, store[name] || {}) && mix :\n    extend(store[name] || {}, mix);\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nfunction update$1() {\n  return each(__TAGS_CACHE, function (tag) { return tag.update(); })\n}\n\nfunction unregister$1(name) {\n  __TAG_IMPL[name] = null;\n}\n\nvar version$1 = 'v3.6.0';\n\n\nvar core = Object.freeze({\n\tTag: Tag$2,\n\ttag: tag$1,\n\ttag2: tag2$1,\n\tmount: mount$1,\n\tmixin: mixin$1,\n\tupdate: update$1,\n\tunregister: unregister$1,\n\tversion: version$1\n});\n\n// counter to give a unique id to all the Tag instances\nvar __uid = 0;\n\n/**\n * We need to update opts for this tag. That requires updating the expressions\n * in any attributes on the tag, and then copying the result onto opts.\n * @this Tag\n * @param   {Boolean} isLoop - is it a loop tag?\n * @param   { Tag }  parent - parent tag node\n * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n * @param   { Object }  opts - tag options\n * @param   { Array }  instAttrs - tag attributes array\n */\nfunction updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n  // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n  // (and only this case) we don't need to do updateOpts, because the regular parse\n  // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n  if (isLoop && isAnonymous) { return }\n\n  var ctx = !isAnonymous && isLoop ? this : parent || this;\n  each(instAttrs, function (attr) {\n    if (attr.expr) { updateAllExpressions.call(ctx, [attr.expr]); }\n    // normalize the attribute names\n    opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value;\n  });\n}\n\n\n/**\n * Tag class\n * @constructor\n * @param { Object } impl - it contains the tag template, and logic\n * @param { Object } conf - tag options\n * @param { String } innerHTML - html that eventually we need to inject in the tag\n */\nfunction Tag$1(impl, conf, innerHTML) {\n  if ( impl === void 0 ) impl = {};\n  if ( conf === void 0 ) conf = {};\n\n  var opts = extend({}, conf.opts),\n    parent = conf.parent,\n    isLoop = conf.isLoop,\n    isAnonymous = !!conf.isAnonymous,\n    skipAnonymous = settings$1.skipAnonymousTags && isAnonymous,\n    item = cleanUpData(conf.item),\n    index = conf.index, // available only for the looped nodes\n    instAttrs = [], // All attributes on the Tag when it's first parsed\n    implAttrs = [], // expressions on this type of Tag\n    expressions = [],\n    root = conf.root,\n    tagName = conf.tagName || getTagName(root),\n    isVirtual = tagName === 'virtual',\n    isInline = !isVirtual && !impl.tmpl,\n    propsInSyncWithParent = [],\n    dom;\n\n  // make this tag observable\n  if (!skipAnonymous) { observable$1(this); }\n  // only call unmount if we have a valid __TAG_IMPL (has name property)\n  if (impl.name && root._tag) { root._tag.unmount(true); }\n\n  // not yet mounted\n  this.isMounted = false;\n\n  defineProperty(this, '__', {\n    isAnonymous: isAnonymous,\n    instAttrs: instAttrs,\n    innerHTML: innerHTML,\n    tagName: tagName,\n    index: index,\n    isLoop: isLoop,\n    isInline: isInline,\n    // tags having event listeners\n    // it would be better to use weak maps here but we can not introduce breaking changes now\n    listeners: [],\n    // these vars will be needed only for the virtual tags\n    virts: [],\n    tail: null,\n    head: null,\n    parent: null,\n    item: null\n  });\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(this, '_riot_id', ++__uid); // base 1 allows test !t._riot_id\n  defineProperty(this, 'root', root);\n  extend(this, { opts: opts }, item);\n  // protect the \"tags\" and \"refs\" property from being overridden\n  defineProperty(this, 'parent', parent || null);\n  defineProperty(this, 'tags', {});\n  defineProperty(this, 'refs', {});\n\n  if (isInline || isLoop && isAnonymous) {\n    dom = root;\n  } else {\n    if (!isVirtual) { root.innerHTML = ''; }\n    dom = mkdom(impl.tmpl, innerHTML, isSvg(root));\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'update', function tagUpdate(data) {\n    var nextOpts = {},\n      canTrigger = this.isMounted && !skipAnonymous;\n\n    // make sure the data passed will not override\n    // the component core methods\n    data = cleanUpData(data);\n    extend(this, data);\n    updateOpts.apply(this, [isLoop, parent, isAnonymous, nextOpts, instAttrs]);\n\n    if (canTrigger && this.isMounted && isFunction(this.shouldUpdate) && !this.shouldUpdate(data, nextOpts)) {\n      return this\n    }\n\n    // inherit properties from the parent, but only for isAnonymous tags\n    if (isLoop && isAnonymous) { inheritFrom.apply(this, [this.parent, propsInSyncWithParent]); }\n    extend(opts, nextOpts);\n    if (canTrigger) { this.trigger('update', data); }\n    updateAllExpressions.call(this, expressions);\n    if (canTrigger) { this.trigger('updated'); }\n\n    return this\n\n  }.bind(this));\n\n  /**\n   * Add a mixin to this tag\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'mixin', function tagMixin() {\n    var this$1 = this;\n\n    each(arguments, function (mix) {\n      var instance, obj;\n      var props = [];\n\n      // properties blacklisted and will not be bound to the tag instance\n      var propsBlacklist = ['init', '__proto__'];\n\n      mix = isString(mix) ? mixin$1(mix) : mix;\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix();\n      } else { instance = mix; }\n\n      var proto = Object.getPrototypeOf(instance);\n\n      // build multilevel prototype inheritance chain property list\n      do { props = props.concat(Object.getOwnPropertyNames(obj || instance)); }\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, function (key) {\n        // bind methods to this\n        // allow mixins to override other properties/parent mixins\n        if (!contains(propsBlacklist, key)) {\n          // check for getters/setters\n          var descriptor = Object.getOwnPropertyDescriptor(instance, key) || Object.getOwnPropertyDescriptor(proto, key);\n          var hasGetterSetter = descriptor && (descriptor.get || descriptor.set);\n\n          // apply method only if it does not already exist on the instance\n          if (!this$1.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(this$1, key, descriptor);\n          } else {\n            this$1[key] = isFunction(instance[key]) ?\n              instance[key].bind(this$1) :\n              instance[key];\n          }\n        }\n      });\n\n      // init method will be called automatically\n      if (instance.init)\n        { instance.init.bind(this$1)(); }\n    });\n    return this\n  }.bind(this));\n\n  /**\n   * Mount the current tag instance\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'mount', function tagMount() {\n    var this$1 = this;\n\n    root._tag = this; // keep a reference to the tag just created\n\n    // Read all the attrs on this instance. This give us the info we need for updateOpts\n    parseAttributes.apply(parent, [root, root.attributes, function (attr, expr) {\n      if (!isAnonymous && RefExpr.isPrototypeOf(expr)) { expr.tag = this$1; }\n      attr.expr = expr;\n      instAttrs.push(attr);\n    }]);\n\n    // update the root adding custom attributes coming from the compiler\n    implAttrs = [];\n    walkAttrs(impl.attrs, function (k, v) { implAttrs.push({name: k, value: v}); });\n    parseAttributes.apply(this, [root, implAttrs, function (attr, expr) {\n      if (expr) { expressions.push(expr); }\n      else { setAttr(root, attr.name, attr.value); }\n    }]);\n\n    // initialiation\n    updateOpts.apply(this, [isLoop, parent, isAnonymous, opts, instAttrs]);\n\n    // add global mixins\n    var globalMixin = mixin$1(GLOBAL_MIXIN);\n\n    if (globalMixin && !skipAnonymous) {\n      for (var i in globalMixin) {\n        if (globalMixin.hasOwnProperty(i)) {\n          this$1.mixin(globalMixin[i]);\n        }\n      }\n    }\n\n    if (impl.fn) { impl.fn.call(this, opts); }\n\n    if (!skipAnonymous) { this.trigger('before-mount'); }\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions.apply(this, [dom, expressions, isAnonymous]);\n\n    this.update(item);\n\n    if (!isAnonymous && !isInline) {\n      while (dom.firstChild) { root.appendChild(dom.firstChild); }\n    }\n\n    defineProperty(this, 'root', root);\n    defineProperty(this, 'isMounted', true);\n\n    if (skipAnonymous) { return }\n\n    // if it's not a child tag we can trigger its mount event\n    if (!this.parent) {\n      this.trigger('mount');\n    }\n    // otherwise we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n    else {\n      var p = getImmediateCustomParentTag(this.parent);\n      p.one(!p.isMounted ? 'mount' : 'updated', function () {\n        this$1.trigger('mount');\n      });\n    }\n\n    return this\n\n  }.bind(this));\n\n  /**\n   * Unmount the tag instance\n   * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'unmount', function tagUnmount(mustKeepRoot) {\n    var this$1 = this;\n\n    var el = this.root,\n      p = el.parentNode,\n      ptag,\n      tagIndex = __TAGS_CACHE.indexOf(this);\n\n    if (!skipAnonymous) { this.trigger('before-unmount'); }\n\n    // clear all attributes coming from the mounted tag\n    walkAttrs(impl.attrs, function (name) {\n      if (startsWith(name, ATTRS_PREFIX))\n        { name = name.slice(ATTRS_PREFIX.length); }\n\n      remAttr(root, name);\n    });\n\n    // remove all the event listeners\n    this.__.listeners.forEach(function (dom) {\n      Object.keys(dom[RIOT_EVENTS_KEY]).forEach(function (eventName) {\n        dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName]);\n      });\n    });\n\n    // remove this tag instance from the global virtualDom variable\n    if (tagIndex !== -1)\n      { __TAGS_CACHE.splice(tagIndex, 1); }\n\n    if (p || isVirtual) {\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent);\n\n        if (isVirtual) {\n          Object.keys(this.tags).forEach(function (tagName) {\n            arrayishRemove(ptag.tags, tagName, this$1.tags[tagName]);\n          });\n        } else {\n          arrayishRemove(ptag.tags, tagName, this);\n          // remove from _parent too\n          if(parent !== ptag) {\n            arrayishRemove(parent.tags, tagName, this);\n          }\n        }\n      } else {\n        // remove the tag contents\n        setInnerHTML(el, '');\n      }\n\n      if (p && !mustKeepRoot) { p.removeChild(el); }\n    }\n\n    if (this.__.virts) {\n      each(this.__.virts, function (v) {\n        if (v.parentNode) { v.parentNode.removeChild(v); }\n      });\n    }\n\n    // allow expressions to unmount themselves\n    unmountAll(expressions);\n    each(instAttrs, function (a) { return a.expr && a.expr.unmount && a.expr.unmount(); });\n\n    // custom internal unmount function to avoid relying on the observable\n    if (this.__.onUnmount) { this.__.onUnmount(); }\n\n    if (!skipAnonymous) {\n      this.trigger('unmount');\n      this.off('*');\n    }\n\n    defineProperty(this, 'isMounted', false);\n\n    delete this.root._tag;\n\n    return this\n\n  }.bind(this));\n}\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nfunction getTag(dom) {\n  return dom.tagName && __TAG_IMPL[getAttr(dom, IS_DIRECTIVE) ||\n    getAttr(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n}\n\n/**\n * Inherit properties from a target tag instance\n * @this Tag\n * @param   { Tag } target - tag where we will inherit properties\n * @param   { Array } propsInSyncWithParent - array of properties to sync with the target\n */\nfunction inheritFrom(target, propsInSyncWithParent) {\n  var this$1 = this;\n\n  each(Object.keys(target), function (k) {\n    // some properties must be always in sync with the parent tag\n    var mustSync = !isReservedName(k) && contains(propsInSyncWithParent, k);\n\n    if (isUndefined(this$1[k]) || mustSync) {\n      // track the property to keep in sync\n      // so we can keep it updated\n      if (!mustSync) { propsInSyncWithParent.push(k); }\n      this$1[k] = target[k];\n    }\n  });\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @this Tag\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nfunction moveChildTag(tagName, newPos) {\n  var parent = this.parent,\n    tags;\n  // no parent no move\n  if (!parent) { return }\n\n  tags = parent.tags[tagName];\n\n  if (isArray(tags))\n    { tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0]); }\n  else { arrayishAdd(parent.tags, tagName, this); }\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nfunction initChildTag(child, opts, innerHTML, parent) {\n  var tag = new Tag$1(child, opts, innerHTML),\n    tagName = opts.tagName || getTagName(opts.root, true),\n    ptag = getImmediateCustomParentTag(parent);\n  // fix for the parent attribute in the looped elements\n  defineProperty(tag, 'parent', ptag);\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag.__.parent = parent;\n\n  // add this tag to the custom parent tag\n  arrayishAdd(ptag.tags, tagName, tag);\n\n  // and also to the real parent tag\n  if (ptag !== parent)\n    { arrayishAdd(parent.tags, tagName, tag); }\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag;\n  while (ptag.__.isAnonymous) {\n    if (!ptag.parent) { break }\n    ptag = ptag.parent;\n  }\n  return ptag\n}\n\n/**\n * Trigger the unmount method on all the expressions\n * @param   { Array } expressions - DOM expressions\n */\nfunction unmountAll(expressions) {\n  each(expressions, function(expr) {\n    if (expr instanceof Tag$1) { expr.unmount(true); }\n    else if (expr.tagName) { expr.tag.unmount(true); }\n    else if (expr.unmount) { expr.unmount(); }\n  });\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n * @returns { String } name to identify this dom node in riot\n */\nfunction getTagName(dom, skipDataIs) {\n  var child = getTag(dom),\n    namedTag = !skipDataIs && getAttr(dom, IS_DIRECTIVE);\n  return namedTag && !tmpl.hasExpr(namedTag) ?\n                namedTag :\n              child ? child.name : dom.tagName.toLowerCase()\n}\n\n/**\n * With this function we avoid that the internal Tag methods get overridden\n * @param   { Object } data - options we want to use to extend the tag instance\n * @returns { Object } clean object without containing the riot internal reserved words\n */\nfunction cleanUpData(data) {\n  if (!(data instanceof Tag$1) && !(data && isFunction(data.trigger)))\n    { return data }\n\n  var o = {};\n  for (var key in data) {\n    if (!RE_RESERVED_NAMES.test(key)) { o[key] = data[key]; }\n  }\n  return o\n}\n\n/**\n * Set the property of an object for a given key. If something already\n * exists there, then it becomes an array containing both the old and new value.\n * @param { Object } obj - object on which to set the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be set\n * @param { Boolean } ensureArray - ensure that the property remains an array\n * @param { Number } index - add the new item in a certain array position\n */\nfunction arrayishAdd(obj, key, value, ensureArray, index) {\n  var dest = obj[key];\n  var isArr = isArray(dest);\n  var hasIndex = !isUndefined(index);\n\n  if (dest && dest === value) { return }\n\n  // if the key was never set, set it once\n  if (!dest && ensureArray) { obj[key] = [value]; }\n  else if (!dest) { obj[key] = value; }\n  // if it was an array and not yet set\n  else {\n    if (isArr) {\n      var oldIndex = dest.indexOf(value);\n      // this item never changed its position\n      if (oldIndex === index) { return }\n      // remove the item from its old position\n      if (oldIndex !== -1) { dest.splice(oldIndex, 1); }\n      // move or add the item\n      if (hasIndex) {\n        dest.splice(index, 0, value);\n      } else {\n        dest.push(value);\n      }\n    } else { obj[key] = [dest, value]; }\n  }\n}\n\n/**\n * Removes an item from an object at a given key. If the key points to an array,\n * then the item is just removed from the array.\n * @param { Object } obj - object on which to remove the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be removed\n * @param { Boolean } ensureArray - ensure that the property remains an array\n*/\nfunction arrayishRemove(obj, key, value, ensureArray) {\n  if (isArray(obj[key])) {\n    var index = obj[key].indexOf(value);\n    if (index !== -1) { obj[key].splice(index, 1); }\n    if (!obj[key].length) { delete obj[key]; }\n    else if (obj[key].length === 1 && !ensureArray) { obj[key] = obj[key][0]; }\n  } else\n    { delete obj[key]; } // otherwise just delete the key\n}\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n * @returns { Tag } a new Tag instance\n */\nfunction mountTo(root, tagName, opts, ctx) {\n  var impl = __TAG_IMPL[tagName],\n    implClass = __TAG_IMPL[tagName].class,\n    tag = ctx || (implClass ? Object.create(implClass.prototype) : {}),\n    // cache the inner HTML to fix #855\n    innerHTML = root._innerHTML = root._innerHTML || root.innerHTML;\n\n  var conf = extend({ root: root, opts: opts }, { parent: opts ? opts.parent : null });\n\n  if (impl && root) { Tag$1.apply(tag, [impl, conf, innerHTML]); }\n\n  if (tag && tag.mount) {\n    tag.mount(true);\n    // add this tag to the virtualDom variable\n    if (!contains(__TAGS_CACHE, tag)) { __TAGS_CACHE.push(tag); }\n  }\n\n  return tag\n}\n\n/**\n * makes a tag virtual and replaces a reference in the dom\n * @this Tag\n * @param { tag } the tag to make virtual\n * @param { ref } the dom reference location\n */\nfunction makeReplaceVirtual(tag, ref) {\n  var frag = createFrag();\n  makeVirtual.call(tag, frag);\n  ref.parentNode.replaceChild(frag, ref);\n}\n\n/**\n * Adds the elements for a virtual tag\n * @this Tag\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nfunction makeVirtual(src, target) {\n  var this$1 = this;\n\n  var head = createDOMPlaceholder(),\n    tail = createDOMPlaceholder(),\n    frag = createFrag(),\n    sib, el;\n\n  this.root.insertBefore(head, this.root.firstChild);\n  this.root.appendChild(tail);\n\n  this.__.head = el = head;\n  this.__.tail = tail;\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    this$1.__.virts.push(el); // hold for unmounting\n    el = sib;\n  }\n\n  if (target)\n    { src.insertBefore(frag, target.__.head); }\n  else\n    { src.appendChild(frag); }\n}\n\n/**\n * Move virtual tag and all child nodes\n * @this Tag\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n */\nfunction moveVirtual(src, target) {\n  var this$1 = this;\n\n  var el = this.__.head,\n    frag = createFrag(),\n    sib;\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    el = sib;\n    if (el === this$1.__.tail) {\n      frag.appendChild(el);\n      src.insertBefore(frag, target.__.head);\n      break\n    }\n  }\n}\n\n/**\n * Get selectors for tags\n * @param   { Array } tags - tag names to select\n * @returns { String } selector\n */\nfunction selectTags(tags) {\n  // select all tags\n  if (!tags) {\n    var keys = Object.keys(__TAG_IMPL);\n    return keys + selectTags(keys)\n  }\n\n  return tags\n    .filter(function (t) { return !/[^-\\w]/.test(t); })\n    .reduce(function (list, t) {\n      var name = t.trim().toLowerCase();\n      return list + \",[\" + IS_DIRECTIVE + \"=\\\"\" + name + \"\\\"]\"\n    }, '')\n}\n\n\nvar tags = Object.freeze({\n\tgetTag: getTag,\n\tinheritFrom: inheritFrom,\n\tmoveChildTag: moveChildTag,\n\tinitChildTag: initChildTag,\n\tgetImmediateCustomParentTag: getImmediateCustomParentTag,\n\tunmountAll: unmountAll,\n\tgetTagName: getTagName,\n\tcleanUpData: cleanUpData,\n\tarrayishAdd: arrayishAdd,\n\tarrayishRemove: arrayishRemove,\n\tmountTo: mountTo,\n\tmakeReplaceVirtual: makeReplaceVirtual,\n\tmakeVirtual: makeVirtual,\n\tmoveVirtual: moveVirtual,\n\tselectTags: selectTags\n});\n\n/**\n * Riot public api\n */\nvar settings = settings$1;\nvar util = {\n  tmpl: tmpl,\n  brackets: brackets,\n  styleManager: styleManager,\n  vdom: __TAGS_CACHE,\n  styleNode: styleManager.styleNode,\n  // export the riot internal utils as well\n  dom: dom,\n  check: check,\n  misc: misc,\n  tags: tags\n};\n\n// export the core props/methods\nvar Tag$$1 = Tag$2;\nvar tag$$1 = tag$1;\nvar tag2$$1 = tag2$1;\nvar mount$$1 = mount$1;\nvar mixin$$1 = mixin$1;\nvar update$$1 = update$1;\nvar unregister$$1 = unregister$1;\nvar version$$1 = version$1;\nvar observable = observable$1;\n\nvar riot$1 = extend({}, core, {\n  observable: observable$1,\n  settings: settings,\n  util: util,\n});\n\nexports.settings = settings;\nexports.util = util;\nexports.Tag = Tag$$1;\nexports.tag = tag$$1;\nexports.tag2 = tag2$$1;\nexports.mount = mount$$1;\nexports.mixin = mixin$$1;\nexports.update = update$$1;\nexports.unregister = unregister$$1;\nexports.version = version$$1;\nexports.observable = observable;\nexports['default'] = riot$1;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/riot/riot.js\n// module id = 0\n// module chunks = 0","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"riot\"), require(\"js-cookie\"), require(\"riot-route\"), require(\"riotcontrol\"), require(\"whatwg-fetch\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"P7HostCore\", [\"riot\", \"js-cookie\", \"riot-route\", \"riotcontrol\", \"whatwg-fetch\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"P7HostCore\"] = factory(require(\"riot\"), require(\"js-cookie\"), require(\"riot-route\"), require(\"riotcontrol\"), require(\"whatwg-fetch\"));\n\telse\n\t\troot[\"P7HostCore\"] = factory(root[\"riot\"], root[\"js-cookie\"], root[\"riot-route\"], root[\"riotcontrol\"], root[\"whatwg-fetch\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_17__, __WEBPACK_EXTERNAL_MODULE_23__, __WEBPACK_EXTERNAL_MODULE_24__, __WEBPACK_EXTERNAL_MODULE_25__, __WEBPACK_EXTERNAL_MODULE_26__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d74dfd0bf95bde2bf088\n\n\n// WEBPACK FOOTER //\n// webpack:/webpack/bootstrap d74dfd0bf95bde2bf088","// https://github.com/substack/deep-freeze\r\n\r\nexport default class DeepFreeze {\r\n  static freeze(o) {\r\n    Object.freeze(o);\r\n    Object.getOwnPropertyNames(o).forEach(function (prop) {\r\n      if (o.hasOwnProperty(prop) &&\r\n          o[prop] !== null &&\r\n          (typeof o[prop] === 'object' || typeof o[prop] === 'function') &&\r\n          !Object.isFrozen(o[prop])) {\r\n        DeepFreeze.freeze(o[prop]);\r\n      }\r\n    }\r\n    );\r\n    return o;\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/utils/deep-freeze.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/utils/deep-freeze.js"," export default class StoreBase {\r\n   constructor() {\r\n     this._bound = false;\r\n     this.riotHandlers = [];\r\n   }\r\n   static bindHandler(element, index, array) {\r\n     this.on(element.event, element.handler);\r\n   }\r\n   static unbindHandler(element, index, array) {\r\n     this.off(element.event, element.handler);\r\n   }\r\n   bindEvents() {\r\n     if (this._bound === false) {\r\n       this.riotHandlers.forEach(StoreBase.bindHandler, this);\r\n       this._bound = !this._bound;\r\n     }\r\n   }\r\n   unbindEvents() {\r\n     if (this._bound === true) {\r\n       this.riotHandlers.forEach(StoreBase.unbindHandler, this);\r\n       this._bound = !this._bound;\r\n     }\r\n   }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/store-base.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/store-base.js","export default class Validator {\r\n  static validateType(obj, type, name) {\r\n    if (!obj) {\r\n      throw new Error(name + ': is NULL');\r\n    }\r\n    if (!(obj instanceof type)) {\r\n      throw new Error(name + ': is NOT of type:' + type.name);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/utils/validators.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/utils/validators.js","// http://www.javascriptkit.com/javatutors/loadjavascriptcss.shtml\r\n\r\n/*\r\ncomponent:{\r\n\t\tkey:'typicode-component',\r\n\t\tpath:'/partial/bundle.js',\r\n\t\ttype:'js'\r\n\t}\r\n\tor when unloading\r\ncomponent:{\r\n\t\tkey:'typicode-component'\r\n\t}\r\n\r\nevents:{\r\n\tout:[\r\n\t\t{\r\n\t\t\tevent:'load-external-jscss-ack',\r\n\t\t\ttype:'riotcontrol'\r\n\t\t\tdata:[\r\n\t\t\t\t{\r\n\t\t\t    \tstate:true,\r\n\t\t\t    \tcomponent:component\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t    \tstate:false,\r\n\t\t\t    \tcomponent:component,\r\n\t\t\t    \terror:\"component already added!\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tevent:'unload-external-jscss-ack',\r\n\t\t\ttype:'riotcontrol'\r\n\t\t\tdata:[\r\n\t\t\t\t{\r\n\t\t\t    \tstate:true,\r\n\t\t\t    \tcomponent:component\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t    \tstate:false,\r\n\t\t\t    \tcomponent:component,\r\n\t\t\t    \terror:\"no entry found to remove!\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t]\r\n\r\n}\r\n\r\n\t*/\r\nimport DeepFreeze from './utils/deep-freeze.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'dynamic-jscss-loader';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n\r\n  },\r\n  out: {\r\n\r\n  }\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class DynamicJsCssLoader {\r\n\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n\r\n  constructor() {\r\n    riot.observable(this);\r\n    this._componentsAddedSet = new Set();\r\n    this._bound = false;\r\n  }\r\n\r\n  _addComponent(component) {\r\n    if (this._findComponent(component) == null) {\r\n      let mySet = this._componentsAddedSet;\r\n\r\n      mySet.add(component);\r\n    }\r\n  }\r\n\r\n  _findComponent(component) {\r\n    let mySet = this._componentsAddedSet;\r\n\r\n    for (let item of mySet) {\r\n      if (item.key === component.key) {return item;}\r\n    }\r\n    return null;\r\n  }\r\n\r\n  _deleteComponent(component) {\r\n    let mySet = this._componentsAddedSet;\r\n\r\n    for (let item of mySet) {\r\n      if (item.key === component.key) {\r\n        mySet.delete(item);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  loadExternalJsCss(component) {\r\n    let addedCompoment = this._findComponent(component);\r\n\r\n    if (addedCompoment == null) {\r\n      this._loadExternalJsCss(component);\r\n      this._addComponent(component);\r\n      console.log('load-external-jscss', component);\r\n    } else {\r\n      console.error('file already added!', component);\r\n    }\r\n  }\r\n\r\n  _removeExternalByFile(filename, filetype) {\r\n    // determine element type to create nodelist from\r\n    let targetelement = (filetype === 'js') ? 'script' : (filetype === 'css') ? 'link' : 'none';\r\n    // determine corresponding attribute to test for\r\n    let targetattr = (filetype === 'js') ? 'src' : (filetype === 'css') ? 'href' : 'none';\r\n    let allsuspects = document.getElementsByTagName(targetelement);\r\n\r\n    for (let i = allsuspects.length; i >= 0; i--) { // search backwards within nodelist for matching elements to remove\r\n      if (allsuspects[i] \t&&\r\n        allsuspects[i].getAttribute(targetattr) != null \t&&\r\n        allsuspects[i].getAttribute(targetattr).indexOf(filename) !== -1) {\r\n        allsuspects[i].parentNode.removeChild(allsuspects[i]); // remove element by calling parentNode.removeChild()\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  unloadExternalJsCss(component) {\r\n    let addedCompoment = this._findComponent(component);\r\n\r\n    if (addedCompoment != null) {\r\n      let jsBundle = component.jsBundle;\r\n      let cssBundle = component.cssBundle;\r\n\r\n      if (jsBundle && jsBundle.path) {\r\n        this._removeExternalByFile(jsBundle.path, 'js');\r\n      }\r\n      if (cssBundle && cssBundle.path) {\r\n        this._removeExternalByFile(cssBundle.path, 'css');\r\n      }\r\n      this._deleteComponent(component);\r\n    }\r\n  }\r\n\r\n  _preFetchExternalJsCss(component) {\r\n    let jsBundle = component.jsBundle;\r\n    let cssBundle = component.cssBundle;\r\n\r\n    if (jsBundle && jsBundle.path) {\r\n      let fileref = document.createElement('link');\r\n\r\n      fileref.setAttribute('rel', 'prefetch');\r\n      fileref.setAttribute('href', jsBundle.path);\r\n      if (typeof fileref !== 'undefined') {\r\n        document.getElementsByTagName('head')[0].appendChild(fileref);\r\n      }\r\n    }\r\n    if (cssBundle && cssBundle.path) {\r\n      let fileref = document.createElement('link');\r\n\r\n      fileref.setAttribute('rel', 'prefetch');\r\n      fileref.setAttribute('href', cssBundle.path);\r\n      if (typeof fileref !== 'undefined') {\r\n        document.getElementsByTagName('head')[0].appendChild(fileref);\r\n      }\r\n    }\r\n  }\r\n\r\n  _loadExternalJsCss(component) {\r\n    let jsBundle = component.jsBundle;\r\n    let cssBundle = component.cssBundle;\r\n\r\n    if (jsBundle && jsBundle.path) {\r\n      let fileref = document.createElement('script');\r\n\r\n      fileref.setAttribute('type', 'text/javascript');\r\n      fileref.setAttribute('src', jsBundle.path);\r\n      if (typeof fileref !== 'undefined') {\r\n        document.getElementsByTagName('head')[0].appendChild(fileref);\r\n      }\r\n    }\r\n    if (cssBundle && cssBundle.path) {\r\n      let fileref = document.createElement('link');\r\n\r\n      fileref.setAttribute('rel', 'stylesheet');\r\n      fileref.setAttribute('type', 'text/css');\r\n      fileref.setAttribute('href', cssBundle.path);\r\n      if (typeof fileref !== 'undefined') {\r\n        document.getElementsByTagName('head')[0].appendChild(fileref);\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/dynamic-jscss-loader.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/dynamic-jscss-loader.js","import DeepFreeze from './utils/deep-freeze.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'router';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {},\r\n  out: {}\r\n};\r\n\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class Router {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n  constructor() {\r\n    // we need this to easily check the current route from every component\r\n    riot.routeState.view = '';\r\n    this.r = riot.route.create();\r\n    this.resetCatchAll();\r\n  }\r\n\r\n  resetCatchAll() {\r\n    this.r.stop();\r\n    let mySet = riot.state.registeredPlugins;\r\n\r\n    for (let item of mySet) {\r\n      if (item.registrants && item.registrants.routeContributer) {\r\n        item.registrants.routeContributer.contributeRoutes(this.r);\r\n      }\r\n    }\r\n    this._contributeCatchAllRoute(this.r);\r\n  }\r\n\r\n  _contributeCatchAllRoute(r) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.contributeCatchAllRoute, r);\r\n    if (riot.state.componentLoaderState && riot.state.componentLoaderState.components) {\r\n      for (let item of riot.state.componentLoaderState.components) {\r\n        let component = item[1];\r\n\r\n        if (component.state.loaded === false) {\r\n          r(component.routeLoad.route, ()=>{\r\n            console.log('catchall route handler of:', component.routeLoad.route);\r\n\r\n            let path = riot.route.currentPath();\r\n\r\n            this.postResetRoute = path;\r\n            riot.control.trigger(riot.EVT.componentLoaderStore.in.loadDynamicComponent, component.key);\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    r('/..', ()=>{\r\n      console.log('route handler of /  ');\r\n      riot.control.trigger(riot.EVT.routeStore.in.routeDispatch, riot.state.route.defaultRoute);\r\n    });\r\n    if (this.postResetRoute != null) {\r\n      let postResetRoute = this.postResetRoute;\r\n\r\n      this.postResetRoute = null;\r\n      riot.control.trigger('riot-route-dispatch', postResetRoute, true);\r\n    }\r\n  }\r\n\r\n  loadView(view) {\r\n    if (this._currentView) {\r\n      this._currentView.unmount(true);\r\n    }\r\n    riot.routeState.view = view;\r\n    this._currentView = riot.mount('#riot-app', view)[0];\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/router.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/router.js","/*\r\n\r\nvar testComponent = {\r\n  \"components\": [{\r\n    \"key\": \"typicode-component\",\r\n    \"jsBundle\": {\r\n      \"path\": \"/partial/typicode_component/bundle.js\"\r\n    },\r\n    \"cssBundle\": {\r\n      \"path\": \"/partial/typicode_component/styles.css\"\r\n    },\r\n\r\n    \"trigger\": {\r\n      \"onLoad\": [{\r\n        \"event\": \"SidebarStore:sidebar-add-item\",\r\n        \"data\": {\r\n          \"title\": \"My Components Page\",\r\n          \"route\": \"my-component-page/home\"\r\n        }\r\n      }],\r\n      \"onUnload\": [{\r\n        \"event\": \"SidebarStore:sidebar-remove-item\",\r\n        \"data\": {\r\n          \"title\": \"My Components Page\"\r\n        }\r\n      }, {\r\n        \"event\": \"plugin-unregistration\",\r\n        \"data\": {\r\n          \"name\": \"typicode-component\"\r\n        }\r\n      }]\r\n    },\r\n    \"routeLoad\": {\r\n      \"route\": \"/my-component-page..\"\r\n    },\r\n    \"state\": {\r\n      \"loaded\": false\r\n    }\r\n  }]\r\n};\r\n\r\nriot.control.trigger('init-component-loader-store');\r\nriot.control.trigger('add-dynamic-component',testComponent);\r\n\r\n*/\r\nimport DeepFreeze from '../utils/deep-freeze.js';\r\nimport Validator from '../utils/validators.js';\r\nimport DynamicJsCssLoader from '../dynamic-jscss-loader.js';\r\nimport StoreBase from './store-base.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'component-loader-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    addDynamicComponent: 'add-dynamic-component',\r\n    addDynamicComponents: 'add-dynamic-components',\r\n    loadDynamicComponent: 'load-dynamic-component',\r\n    unloadDynamicComponent: 'unload-dynamic-component',\r\n\r\n    pluginRegistered: 'plugin-registered',\r\n    pluginUnregistered: 'plugin-unregistered'\r\n\r\n  },\r\n  out: {\r\n    allComponentsLoadComplete: 'all-components-load-complete',\r\n    componentLoaderStoreStateUpdated: 'component-loader-store-state-updated'\r\n  }\r\n};\r\n\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class ComponentLoaderStore extends StoreBase {\r\n\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n\r\n  constructor(dynamicJsCssLoader) {\r\n    super();\r\n    Validator.validateType(dynamicJsCssLoader, DynamicJsCssLoader, 'dynamicJsCssLoader');\r\n    this.dynamicJsCssLoader = dynamicJsCssLoader;\r\n\r\n    riot.observable(this);\r\n    this._components = new Set();\r\n    riot.state.componentLoaderState = {};\r\n    this.state = riot.state.componentLoaderState;\r\n\r\n    this.riotHandlers = [\r\n      {event: Constants.WELLKNOWN_EVENTS.in.loadDynamicComponent, handler: this._onLoadDynamicComponent},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.unloadDynamicComponent, handler: this._onUnloadDymanicComponent},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.addDynamicComponent, handler: this._onAddDynamicComponent},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.addDynamicComponents, handler: this._onAddDynamicComponents},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.pluginRegistered, handler: this._onPluginRegistered},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.pluginUnregistered, handler: this._onPluginUnregistered}\r\n    ];\r\n    this.bindEvents();\r\n  }\r\n\r\n  _commitToState() {\r\n\r\n    var componentsArray = Array.from(this._components);\r\n\r\n    this.state.components = new Map(componentsArray.map((i) => [i.key, i]));\r\n    this.trigger(Constants.WELLKNOWN_EVENTS.out.componentLoaderStoreStateUpdated);\r\n  }\r\n  _addComponent(component) {\r\n\r\n    if (this._findComponent(component.key) == null) {\r\n      this._components.add(component);\r\n      this.dynamicJsCssLoader._preFetchExternalJsCss(component);\r\n      this._commitToState();\r\n    }\r\n  }\r\n  _findComponent(key) {\r\n\r\n    for (let item of this._components) {\r\n      if (item.key === key) {\r\n        return item;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  _onPluginRegistered(registration) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.pluginRegistered, registration);\r\n    let component = this._findComponent(registration.name);\r\n\r\n    if (component) {\r\n      for (let triggerItem of component.trigger.onLoad) {\r\n        riot.control.trigger(triggerItem.event, triggerItem.data);\r\n      }\r\n      component.state.loaded = true;\r\n      this.trigger(Constants.WELLKNOWN_EVENTS.out.componentLoaderStoreStateUpdated);\r\n    }\r\n  }\r\n  _onPluginUnregistered(registration) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.pluginUnregistered, registration);\r\n    let component = this._findComponent(registration.name);\r\n\r\n    if (component) {\r\n      for (let triggerItem of component.trigger.onUnload) {\r\n        riot.control.trigger(triggerItem.event, triggerItem.data);\r\n      }\r\n      component.state.loaded = false;\r\n      this.trigger(Constants.WELLKNOWN_EVENTS.out.componentLoaderStoreStateUpdated);\r\n    }\r\n  }\r\n\r\n  _onAddDynamicComponent(component) {\r\n\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.addDynamicComponent, component);\r\n    let comp = this._findComponent(component.key);\r\n\r\n    if (comp == null) {\r\n      this._addComponent(component);\r\n\r\n      if (this._allLoadedCompleteCheck() === true) {\r\n                // need to trigger a load complete just on a simple add so that auto route loading can work\r\n        riot.control.trigger(Constants.WELLKNOWN_EVENTS.out.allComponentsLoadComplete);\r\n      }\r\n    }\r\n  }\r\n\r\n  _onAddDynamicComponents(components, ack) {\r\n\r\n    if (components) {\r\n      console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.addDynamicComponents, components);\r\n      for (let component of components) {\r\n        let comp = this._findComponent(component.key);\r\n\r\n        if (comp === null) {\r\n          this._addComponent(component);\r\n        }\r\n      }\r\n    }\r\n    riot.control.trigger(ack.evt, ack);\r\n  }\r\n\r\n  _onLoadDynamicComponent(key) {\r\n\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.loadDynamicComponent, key);\r\n    let component = this._findComponent(key);\r\n\r\n    if (component != null && component.state.loaded !== true) {\r\n      this.dynamicJsCssLoader.loadExternalJsCss(component);\r\n\r\n    }\r\n  }\r\n  _onUnloadDymanicComponent(key) {\r\n\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.unloadDynamicComponent, key);\r\n    let component = this._findComponent(key);\r\n\r\n    if (component != null && component.state.loaded === true) {\r\n      // need to cleanup the routes and stores before we can unload the JS.\r\n      // 1. plugin-registration-store first.\r\n\r\n      riot.control.trigger(riot.EVT.pluginRegistrationStore.in.pluginUnregistration, {\r\n        'name': key\r\n      });\r\n    }\r\n  }\r\n\r\n  _allLoadedCompleteCheck() {\r\n\r\n    var result = true;\r\n\r\n    for (let item of this._components) {\r\n      if (item.state.loaded === true && item.state.loadedComplete === false) {\r\n        result = false;\r\n        break;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/component-loader-store.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/component-loader-store.js","/**\r\n * Created by Herb on 9/27/2016.\r\n */\r\nimport DeepFreeze from '../utils/deep-freeze.js';\r\nimport StoreBase from './store-base.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'progress-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    inprogressDone: Constants.NAMESPACE + 'inprogress-done',\r\n    inprogressStart: Constants.NAMESPACE + 'inprogress-start'\r\n  },\r\n  out: {\r\n    progressStart: Constants.NAMESPACE + 'progress-start',\r\n    progressCount: Constants.NAMESPACE + 'progress-count',\r\n    progressDone: Constants.NAMESPACE + 'progress-done'\r\n  }\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class ProgressStore extends StoreBase {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n  constructor() {\r\n    super();\r\n    riot.observable(this);\r\n    this._count = 0;\r\n    this.riotHandlers = [\r\n      {event: Constants.WELLKNOWN_EVENTS.in.inprogressStart, handler: this._onInProgressStart},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.inprogressDone, handler: this._onInProgressDone}\r\n    ];\r\n    this.bindEvents();\r\n  }\r\n\r\n  _onInProgressStart() {\r\n    if (this._count === 0) {\r\n      this.trigger(Constants.WELLKNOWN_EVENTS.out.progressStart);\r\n    }\r\n    ++this._count;\r\n    this.trigger(Constants.WELLKNOWN_EVENTS.out.progressCount, this._count);\r\n  }\r\n  _onInProgressDone() {\r\n    if (this.count === 0) {\r\n            // very bad.\r\n      console.error(Constants.WELLKNOWN_EVENTS.in.inprogressDone,\r\n                'someone has their inprogress_done mismatched with thier inprogress_start');\r\n    }\r\n    if (this._count > 0) {\r\n      --this._count;\r\n    }\r\n    this.trigger(Constants.WELLKNOWN_EVENTS.out.progressCount, this._count);\r\n    if (this._count === 0) {\r\n      this.trigger(Constants.WELLKNOWN_EVENTS.out.progressDone);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/progress-store.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/progress-store.js","import DeepFreeze from '../utils/deep-freeze.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'route-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    routeDispatch: 'riot-route-dispatch',\r\n    riotRouteLoadView: 'riot-route-load-view'\r\n  },\r\n  out: {\r\n    riotRouteDispatchAck: 'riot-route-dispatch-ack'\r\n  }\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class RouteStore {\r\n\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n\r\n  constructor() {\r\n    riot.observable(this);\r\n    this._bound = false;\r\n    this.postResetRoute = null;\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    if (this._bound === false) {\r\n      this.on(Constants.WELLKNOWN_EVENTS.in.routeDispatch, this._onRouteDispatch);\r\n      this.on(Constants.WELLKNOWN_EVENTS.in.riotRouteLoadView, this._onRiotRouteLoadView);\r\n      this._bound = !this._bound;\r\n    }\r\n  }\r\n\r\n  unbindEvents() {\r\n    if (this._bound === true) {\r\n      this.off(Constants.WELLKNOWN_EVENTS.in.routeDispatch, this._onRouteDispatch);\r\n      this.off(Constants.WELLKNOWN_EVENTS.in.riotRouteLoadView, this._onRiotRouteLoadView);\r\n      this._bound = !this._bound;\r\n    }\r\n  }\r\n\r\n  _onRouteDispatch(route, force) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.routeDispatch, route);\r\n    let current = riot.route.currentPath();\r\n\r\n    let same = current === route;\r\n\r\n    if (!same) {\r\n      same = ('/' + current) === route;\r\n    }\r\n    if (!same) {\r\n      riot.route(route);\r\n    } else {\r\n      if (force) {\r\n        riot.route.exec();\r\n      }\r\n    }\r\n\r\n    riot.routeState.route = route;\r\n    this.trigger(Constants.WELLKNOWN_EVENTS.out.routeDispatchAck, route);\r\n  }\r\n\r\n  _onRiotRouteLoadView(view) {\r\n    console.log(Constants.NAME, 'riot-route-load-view', view);\r\n    riot.router.loadView(view);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/route-store.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/route-store.js","export default class RandomString {\r\n  constructor() {\r\n    var self = this;\r\n\r\n    self.name = 'RandomString';\r\n    self.namespace = self.name + ':';\r\n    self.generateRandomString = (length) =>{\r\n      if (length && length > 16) {\r\n        length = 16;\r\n      } else {\r\n        length = 16;\r\n      }\r\n\r\n      let text = '';\r\n      let possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n      for (let i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n      }\r\n      return text;\r\n    };\r\n    self.hashString = (str) =>{\r\n      let hash = 5381;\r\n      let i = str.length;\r\n\r\n      while (i) {\r\n        hash = (hash * 33) ^ str.charCodeAt(--i);\r\n      }\r\n/* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\r\n* integers. Since we want the results to be always positive, convert the\r\n* signed int to an unsigned by doing an unsigned bitshift. */\r\n      return hash >>> 0;\r\n    };\r\n    self.randomHash = (length) =>{\r\n      return self.hashString(self.generateRandomString(length));\r\n    };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/utils/random-string.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/utils/random-string.js","import DeepFreeze from './utils/deep-freeze.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'riotcontrol-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {},\r\n  out: {}\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class RiotControlExt {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n  constructor() {\r\n    riot.observable(this);\r\n    this._bound = false;\r\n    this._stores = {};\r\n  }\r\n  add(name, store) {\r\n    this._stores[name] = store;\r\n    riot.control.addStore(store);\r\n  }\r\n  remove(name) {\r\n    let store = this._stores[name];\r\n\r\n    while (riot.control._stores.indexOf(store) !== -1) {\r\n      riot.control._stores.splice(riot.control._stores.indexOf(store), 1);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/riotcontrol-ext.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/riotcontrol-ext.js","\r\nimport DeepFreeze from '../utils/deep-freeze.js';\r\nimport RouteStore from './route-store.js';\r\nimport StoreBase from './store-base.js';\r\n\r\nconst RSWKE = RouteStore.constants.WELLKNOWN_EVENTS;\r\n\r\nclass Constants {}\r\nConstants.NAME = 'error-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    errorCatchAll: Constants.NAMESPACE + 'catch-all:'\r\n  },\r\n  out: {\r\n    routeDispatch: RSWKE.in.routeDispatch\r\n  }\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class ErrorStore extends StoreBase {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    riot.observable(this);\r\n    this._bound = false;\r\n    this._error = {};\r\n    this.riotHandlers = [\r\n      {event: Constants.WELLKNOWN_EVENTS.in.errorCatchAll, handler: this._onError}\r\n    ];\r\n    this.bindEvents();\r\n  }\r\n\r\n  _onError(error) {\r\n    console.log(this.name, Constants.WELLKNOWN_EVENTS.in.errorCatchAll, error);\r\n    this._error = error;\r\n    riot.state.error = error;\r\n    riot.control.trigger(Constants.WELLKNOWN_EVENTS.out.routeDispatch, '/error');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/error-store.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/error-store.js","/**\r\n * Created by Herb on 9/27/2016.\r\n */\r\nimport 'whatwg-fetch';\r\nimport DeepFreeze from '../utils/deep-freeze.js';\r\nimport ProgressStore from './progress-store.js';\r\nimport StoreBase from './store-base.js';\r\n\r\nconst PSWKE = ProgressStore.constants.WELLKNOWN_EVENTS;\r\n\r\nclass Constants {}\r\nConstants.NAME = 'fetch-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    fetch: Constants.NAMESPACE + 'fetch'\r\n  },\r\n  out: {\r\n    inprogressDone: PSWKE.in.inprogressDone,\r\n    inprogressStart: PSWKE.in.inprogressStart\r\n  }\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class FetchStore extends StoreBase {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n  constructor() {\r\n    super();\r\n    riot.observable(this);\r\n    this.riotHandlers = [\r\n      {event: Constants.WELLKNOWN_EVENTS.in.fetch, handler: this._onFetch}\r\n    ];\r\n    this.bindEvents();\r\n  }\r\n\r\n  _onFetch(input, init, ack, jsonFixup = true) {\r\n    console.log(Constants.WELLKNOWN_EVENTS.in.fetch, input, init, ack, jsonFixup);\r\n\r\n        // we are a json shop\r\n    let token = riot.Cookies.get('XSRF-TOKEN');\r\n\r\n    riot.control.trigger(riot.EVT.fetchStore.out.inprogressStart);\r\n    if (jsonFixup === true) {\r\n      if (!init) {\r\n        init = {};\r\n      }\r\n      if (!init.headers) {\r\n        init.headers = {};\r\n      }\r\n\r\n      if (token) {\r\n        init.headers['X-XSRF-TOKEN'] = token;\r\n      }\r\n\r\n      if (!init.credentials) {\r\n        init.credentials = 'include';\r\n      }\r\n\r\n      if (!init.headers['Content-Type']) {\r\n        init.headers['Content-Type'] = 'application/json';\r\n      }\r\n\r\n      if (!init.headers['Accept']) {\r\n        init.headers['Accept'] = 'application/json';\r\n      }\r\n\r\n      if (init.body) {\r\n        let type = typeof (init.body);\r\n\r\n        if (type === 'object') {\r\n          init.body = JSON.stringify(init.body);\r\n        }\r\n      }\r\n    }\r\n\r\n //   let myTrigger = JSON.parse(JSON.stringify(ack));\r\n\r\n    fetch(input, init).then(function (response) {\r\n      riot.control.trigger(riot.EVT.fetchStore.out.inprogressDone);\r\n      let result = {response: response};\r\n\r\n      if (response.status === 204) {\r\n        result.error = 'Fire the person that returns this 204 garbage!';\r\n        riot.control.trigger(ack.evt, result, ack);\r\n      }\r\n      if (response.ok) {\r\n        if (init.method === 'HEAD') {\r\n          riot.control.trigger(ack.evt, result, ack);\r\n        } else {\r\n          response.json().then((data)=>{\r\n            console.log(data);\r\n            result.json = data;\r\n            result.error = null;\r\n            riot.control.trigger(ack.evt, result, ack);\r\n          });\r\n        }\r\n      } else {\r\n        riot.control.trigger(ack.evt, result, ack);\r\n      }\r\n    }).catch(function (ex) {\r\n      console.log('fetch failed', ex);\r\n      self.error = ex;\r\n            // todo: event out error to ack\r\n      riot.control.trigger(riot.EVT.fetchStore.out.inprogressDone);\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/fetch-store.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/fetch-store.js","import DeepFreeze from '../utils/deep-freeze.js';\r\nimport StoreBase from './store-base.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'keep-alive-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    fetchHeadResult: Constants.NAMESPACE + 'fetch-head-result',\r\n    enable: Constants.NAMESPACE + 'enable',\r\n    disable: Constants.NAMESPACE + 'disable'\r\n  },\r\n  out: {\r\n    keptAlive: Constants.NAMESPACE + 'kept-alive'\r\n  }\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class KeepAliveStore extends StoreBase {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n  constructor() {\r\n    super();\r\n    let self = this;\r\n\r\n    riot.observable(this);\r\n    this.riotHandlers = [\r\n      {event: Constants.WELLKNOWN_EVENTS.in.fetchHeadResult, handler: this._onFetchHeadResult},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.enable, handler: this._onEnable},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.disable, handler: this._onDisable}\r\n    ];\r\n    self.bindEvents();\r\n    self._keepAlive = false;\r\n  }\r\n\r\n  _onEnable() {\r\n    let self = this;\r\n    let w = riot.global.window;\r\n\r\n    w._oldOpen = XMLHttpRequest.prototype.open;\r\n    let onStateChange = (event) =>{\r\n      if (event.currentTarget.readyState === 4) {\r\n        self._onHttpMonitor(event.currentTarget.responseURL, event.currentTarget.status);\r\n      }\r\n    };\r\n\r\n    XMLHttpRequest.prototype.open = () =>{\r\n        // when an XHR object is opened, add a listener for its readystatechange events\r\n      this.addEventListener('readystatechange', onStateChange);\r\n        // run the real `open`\r\n      w._oldOpen.apply(this, arguments);\r\n    };\r\n\r\n    if (!w.fetch.polyfill) {\r\n      w._oldFetch = w.fetch;\r\n\r\n      w.fetch = (input, init) =>{\r\n        return w._oldFetch(input, init).then(response =>{\r\n          self._onHttpMonitor(response.url, response.status);\r\n          return response;\r\n        });\r\n      };\r\n    }\r\n\r\n    self.timer = setInterval(()=>{\r\n      self._onTimer();\r\n    }, 5000);\r\n\r\n  }\r\n\r\n  _onDisable() {\r\n    let self = this;\r\n    let w = riot.global.window;\r\n\r\n    if (self.timer) {\r\n      clearInterval(this.timer);\r\n    }\r\n\r\n    if (w._oldFetch) {\r\n      w.fetch = w._oldFetch;\r\n      w._oldFetch = null;\r\n    }\r\n    if (w._oldOpen) {\r\n      XMLHttpRequest.prototype.open = w._oldOpen;\r\n      w._oldOpen = null;\r\n    }\r\n  }\r\n\r\n  _onHttpMonitor(url, status) {\r\n    let n = url.startsWith(window.location.origin);\r\n\r\n    if (n === false) {\r\n      this._keepAlive = true;\r\n    }\r\n  }\r\n  _onTimer() {\r\n    if (this._keepAlive) {\r\n      this._keepAlive = false;\r\n      let myAck = {\r\n        evt: Constants.WELLKNOWN_EVENTS.in.fetchHeadResult\r\n      };\r\n\r\n      riot.control.trigger(riot.EVT.fetchStore.in.fetch, riot.state.keepAlive.url,\r\n                                {method: 'HEAD'}, myAck);\r\n    }\r\n  }\r\n  _onFetchHeadResult(result, ack) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.fetchHeadResult,\r\n      result, ack);\r\n    this.trigger(Constants.WELLKNOWN_EVENTS.out.keptAlive);\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/keep-alive-store.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/keep-alive-store.js","/**\r\n * Created by Herb on 9/27/2016.\r\n */\r\nimport DeepFreeze from '../utils/deep-freeze.js';\r\nimport StoreBase from './store-base.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'localstorage-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    localstorageSet: Constants.NAMESPACE + 'set',\r\n    localstorageGet: Constants.NAMESPACE + 'get',\r\n    localstorageRemove: Constants.NAMESPACE + 'remove',\r\n    localstorageClear: Constants.NAMESPACE + 'clear'\r\n  },\r\n  out: {}\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class LocalStorageStore extends StoreBase {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n  constructor() {\r\n    super();\r\n    riot.observable(this);\r\n    this.riotHandlers = [\r\n      {event: Constants.WELLKNOWN_EVENTS.in.localstorageSet, handler: this._onSet},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.localstorageGet, handler: this._onGet},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.localstorageRemove, handler: this._onRemove},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.localstorageClear, handler: this._onClear}\r\n    ];\r\n    this.bindEvents();\r\n  }\r\n\r\n    /*\r\n    {\r\n        key:[string:required],\r\n        data: [Object],\r\n        trigger:[optional]{\r\n            event:[string],\r\n            riotControl:bool  // do a riotcontrol.trigger or just an observable trigger.\r\n        }\r\n    }\r\n    */\r\n  _onSet(query) {\r\n    console.log(Constants.WELLKNOWN_EVENTS.in.localstorageSet, query);\r\n    localStorage.setItem(query.key, JSON.stringify(query.data));\r\n    if (query.trigger) {\r\n      this.trigger(query.trigger); // in case you want an ack\r\n    }\r\n  }\r\n     /*\r\n        {\r\n            key:'myKey',\r\n            trigger:{\r\n                    event:[string],\r\n                    riotControl:bool  // do a riotcontrol.trigger or just an observable trigger.\r\n             }\r\n        }\r\n    */\r\n  _onGet(query) {\r\n    console.log(Constants.WELLKNOWN_EVENTS.in.localstorageGet, query);\r\n    let stored = localStorage.getItem(query.key);\r\n    let data = null;\r\n\r\n    if (stored && stored !== 'undefined') {\r\n      data = JSON.parse(stored);\r\n    }\r\n    if (query.trigger.riotControl === true) {\r\n      riot.control.trigger(query.trigger.event, data);\r\n    } else {\r\n      this.trigger(query.trigger.event, data);\r\n    }\r\n  }\r\n    /*\r\n     {\r\n     key:'myKey'\r\n     }\r\n     */\r\n  _onRemove(query) {\r\n    console.log(Constants.WELLKNOWN_EVENTS.in.localstorageRemove, query);\r\n    localStorage.removeItem(query.key);\r\n  }\r\n\r\n  _onClear() {\r\n    console.log(Constants.WELLKNOWN_EVENTS.in.localstorageClear);\r\n    localStorage.clear();\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/localstorage-store.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/localstorage-store.js","\r\n/*\r\nvar registerRecord = {\r\n  name:'riotjs-partial-spa',\r\n  views:[\r\n    {view:'my-component-page'},\r\n    {view:'typicode-user-detail'}\r\n  ],\r\n  stores:[\r\n    {store: new TypicodeUserStore()}\r\n  ],\r\n  postLoadEvents:[\r\n    {event:'typicode-init',data:{}}\r\n  ],\r\n  preUnloadEvents:[\r\n    {event:'typicode-uninit',data:{}}\r\n  ]\r\n};\r\nriot.control.trigger('plugin-registration',registerRecord);\r\n\r\n*/\r\nimport DeepFreeze from '../utils/deep-freeze.js';\r\nimport Validator from '../utils/validators.js';\r\nimport RiotControlExt from '../riotcontrol-ext.js';\r\nimport '../router.js';\r\nimport DynamicJsCssLoader from '../dynamic-jscss-loader.js';\r\nimport ComponentLoaderStore from './component-loader-store.js';\r\nimport StoreBase from './store-base.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'plugin-registration-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    pluginRegistration: 'plugin-registration',\r\n    pluginUnregistration: 'plugin-unregistration'\r\n  },\r\n  out: {\r\n    pluginRegistered: 'plugin-registered',\r\n    pluginUnregistered: 'plugin-unregistered'\r\n  }\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class PluginRegistrationStore extends StoreBase {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n\r\n  constructor(riotControlExt, dynamicJsCssLoader, componentLoaderStore) {\r\n    super();\r\n    Validator.validateType(riotControlExt, RiotControlExt, 'riotControlExt');\r\n    Validator.validateType(dynamicJsCssLoader, DynamicJsCssLoader, 'dynamicJsCssLoader');\r\n    Validator.validateType(componentLoaderStore, ComponentLoaderStore, 'componentLoaderStore');\r\n\r\n    riot.observable(this);\r\n    this.riotControlExt = riotControlExt;\r\n    this.dynamicJsCssLoader = dynamicJsCssLoader;\r\n    this.componentLoaderStore = componentLoaderStore;\r\n\r\n    this.riotHandlers = [\r\n      {event: Constants.WELLKNOWN_EVENTS.in.pluginRegistration, handler: this._registerPlugin},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.pluginUnregistration, handler: this._unregisterPlugin}\r\n    ];\r\n    this.bindEvents();\r\n    riot.state.registeredPlugins = new Set();\r\n\r\n  }\r\n\r\n  _findRegistration(registrationName) {\r\n\r\n    var mySet = riot.state.registeredPlugins;\r\n\r\n    for (let item of mySet) {\r\n      if (item.name === registrationName) {return item;}\r\n    }\r\n    return null;\r\n  }\r\n  _removeRegistration(registrationName) {\r\n\r\n    var mySet = riot.state.registeredPlugins;\r\n\r\n    for (let item of mySet) {\r\n      if (item.name === registrationName) {\r\n        mySet.delete(item);\r\n        break;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  _registerPlugin(registration) {\r\n\r\n    let foundRegistration = this._findRegistration(registration.name);\r\n\r\n    if (foundRegistration === null) {\r\n\r\n      // 1. Add the registration record\r\n      riot.state.registeredPlugins.add(registration);\r\n\r\n      // 2. Ready up the stores\r\n      for (let i = 0; i < registration.stores.length; i++) {\r\n\r\n        // 2.1 Tell the stores to START listening.  Doing a bind, which may not be neccessary\r\n        //    but it has to match the unbind that I am doing later in the unregister.\r\n        //    It is required to be implemented, even if it is a noop.\r\n        registration.stores[i].store.bind();\r\n\r\n        // 2.2 Add the stores\r\n        registration.stores[i].name = registration.name + '-store-' + i; // need this for my own tracking\r\n        this.riotControlExt.add(registration.stores[i].name, registration.stores[i].store);\r\n      }\r\n\r\n      // 3. fire post load events\r\n      //    NOTE: we do NOT fire unload events as they are async and these stores have to go\r\n      for (let i = 0; i < registration.postLoadEvents.length; i++) {\r\n        riot.control.trigger(registration.postLoadEvents[i].event, registration.postLoadEvents[i].data);\r\n      }\r\n\r\n      // 4. Rebuild the routes.\r\n      riot.router.resetCatchAll(); // this rebuilds the routes, without the above nulled one\r\n\r\n      // FINALLY. Tell the world that things have changed.\r\n      riot.control.trigger(Constants.WELLKNOWN_EVENTS.out.pluginRegistered, registration);\r\n    } else {\r\n      console.error(Constants.NAME, registration, 'plugin already registered!');\r\n    }\r\n  }\r\n\r\n  _unregisterPlugin(registration) {\r\n\r\n    var foundRegistration = this._findRegistration(registration.name);\r\n\r\n    if (foundRegistration === null) {\r\n      console.error(Constants.NAME, registration, 'plugin already unregistered!');\r\n    } else {\r\n      // 0. We do NOT fire unregister events as the stores will be gone before any event can reach them\r\n\r\n      // 1. Tell the router to drop all routes for this component.\r\n      let component = this.componentLoaderStore._findComponent(foundRegistration.name);\r\n\r\n      if (component && foundRegistration.registrants && foundRegistration.registrants.routeContributer) {\r\n        component.state.loaded = false;\r\n        foundRegistration.registrants.routeContributer = null;  // get rid of the contributer.\r\n        riot.router.resetCatchAll(); // this rebuilds the routes, without the above nulled one\r\n      }\r\n\r\n      // 2. Shutdown the stores\r\n      for (let i = 0; i < foundRegistration.stores.length; i++) {\r\n\r\n        // 2.1. Tell the store to STOP listening.\r\n        foundRegistration.stores[i].store.unbind(); // stop listening\r\n\r\n        // 2.2. Remove the store.\r\n        this.riotControlExt.remove(foundRegistration.stores[i].name);\r\n      }\r\n\r\n      // 3. Unload the JSCSS stuff.\r\n      this.dynamicJsCssLoader.unloadExternalJsCss(component);\r\n\r\n      // 4. Remove the registration record\r\n      this._removeRegistration(foundRegistration.name);\r\n\r\n      // FINALLY. Tell the world that things have changed.\r\n      riot.control.trigger(Constants.WELLKNOWN_EVENTS.out.pluginUnregistered, registration);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/plugin-registration-store.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/plugin-registration-store.js","import DeepFreeze from '../utils/deep-freeze.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'riotcontrol-dispatch-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    dispatch: Constants.NAMESPACE + 'dispatch'\r\n  },\r\n  out: {\r\n  }\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class RiotControlDispatchStore {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n  constructor() {\r\n    riot.observable(this);\r\n    this._bound = false;\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    if (this._bound === false) {\r\n      this.on(Constants.WELLKNOWN_EVENTS.in.dispatch, this._onDispatch);\r\n      this._bound = !this._bound;\r\n    }\r\n  }\r\n  bindEvents() {\r\n    if (this._bound === true) {\r\n      this.off(Constants.WELLKNOWN_EVENTS.in.dispatch, this._onDispatch);\r\n      this._bound = !this._bound;\r\n    }\r\n  }\r\n\r\n  _onDispatch(event, data) {\r\n    console.log(Constants.WELLKNOWN_EVENTS.in.dispatch, event, data);\r\n    this.trigger(event, data);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/riotcontrol-dispatch-store.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/riotcontrol-dispatch-store.js","import DeepFreeze from '../utils/deep-freeze.js';\r\nimport Router from '../router.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'startup-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    start: Constants.NAMESPACE + 'start',\r\n    fetchConfig: Constants.NAMESPACE + 'fetch-config',\r\n    fetchConfigResult: Constants.NAMESPACE + 'fetch-config-result',\r\n    fetchConfigResult2: Constants.NAMESPACE + 'fetch-config-result2',\r\n    componentsAdded: Constants.NAMESPACE + 'components-added'\r\n\r\n  },\r\n  out: {\r\n    configComplete: Constants.NAMESPACE + 'config-complete'\r\n  }\r\n};\r\n\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class StartupStore {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n  constructor() {\r\n    riot.observable(this);\r\n    this._bound = false;\r\n    this._startupComplete = false;\r\n    this._done = false;\r\n    this.bindEvents();\r\n  }\r\n  bindEvents() {\r\n\r\n    if (this._bound === false) {\r\n      // ------------------------------------------------------------\r\n      this.on(Constants.WELLKNOWN_EVENTS.in.start, this._onStart);\r\n\r\n      // ------------------------------------------------------------\r\n      this.on(Constants.WELLKNOWN_EVENTS.in.fetchConfig, this._onFetchConfig);\r\n\r\n      // ------------------------------------------------------------\r\n      this.on(Constants.WELLKNOWN_EVENTS.in.fetchConfigResult2, this._onFetchConfigResult2);\r\n\r\n      // ------------------------------------------------------------\r\n      this.on(Constants.WELLKNOWN_EVENTS.in.fetchConfigResult, this._onFetchConfigResult);\r\n\r\n      // ------------------------------------------------------------\r\n      this.on(Constants.WELLKNOWN_EVENTS.in.componentsAdded, this._onComponentsAdded);\r\n\r\n      this._bound = !this._bound;\r\n\r\n    }\r\n  }\r\n  unbindEvents() {\r\n\r\n    if (this._bound === true) {\r\n      // ------------------------------------------------------------\r\n      this.off(Constants.WELLKNOWN_EVENTS.in.start, this._onStart);\r\n\r\n      // ------------------------------------------------------------\r\n      this.off(Constants.WELLKNOWN_EVENTS.in.fetchConfig, this._onFetchConfig);\r\n\r\n      // ------------------------------------------------------------\r\n      this.off(Constants.WELLKNOWN_EVENTS.in.fetchConfigResult2, this._onFetchConfigResult2);\r\n\r\n      // ------------------------------------------------------------\r\n      this.off(Constants.WELLKNOWN_EVENTS.in.fetchConfigResult, this._onFetchConfigResult);\r\n\r\n      // ------------------------------------------------------------\r\n      this.off(Constants.WELLKNOWN_EVENTS.in.componentsAdded, this._onComponentsAdded);\r\n\r\n      this._bound = !this._bound;\r\n\r\n    }\r\n  }\r\n\r\n  _onComponentsAdded(ack) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.componentsAdded, ack);\r\n    this.trigger(Constants.WELLKNOWN_EVENTS.out.configComplete);\r\n//    riot.control.trigger(ack.ack.evt, ack.ack);\r\n  }\r\n  _onFetchConfigResult(result, ack) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.fetchConfigResult, result, ack);\r\n    if (result.error || !result.response.ok) {\r\n      riot.control.trigger(riot.EVT.errorStore.in.errorCatchAll, {code: 'startup-config1234'});\r\n    } else {\r\n      riot.control.trigger(riot.EVT.componentLoaderStore.in.addDynamicComponents\r\n        , result.json.components, {evt: Constants.WELLKNOWN_EVENTS.in.componentsAdded});\r\n    }\r\n  }\r\n  _onFetchConfigResult2(result, ack) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.fetchConfigResult2,\r\n      result, ack);\r\n  }\r\n  _onFetchConfig(path) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.fetchConfig, path);\r\n    let url = path;\r\n    let myAck = {\r\n      evt: Constants.WELLKNOWN_EVENTS.in.fetchConfigResult\r\n    };\r\n    let myAck2 = {\r\n      evt: Constants.WELLKNOWN_EVENTS.in.fetchConfigResult2\r\n    };\r\n\r\n    riot.control.trigger(riot.EVT.fetchStore.in.fetch, url, {method: 'HEAD'}, myAck2);\r\n    riot.control.trigger(riot.EVT.fetchStore.in.fetch, url, null, myAck);\r\n  }\r\n  _onStart(nextTag) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.start, this._done, nextTag);\r\n    if (this._done) {\r\n      return;\r\n    }\r\n\r\n    if (!nextTag) {\r\n      nextTag = 'app';\r\n    }\r\n    if (nextTag === 'app') {\r\n      this._done = true;\r\n      // only when the nextTag is 'app' do we engage the router.\r\n      // 'app' is last\r\n      riot.router = new Router();\r\n      riot.mount(nextTag);\r\n      riot.route.start(true);\r\n    } else {\r\n      riot.mount(nextTag);\r\n    }\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/stores/startup-store.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/stores/startup-store.js","module.exports = __WEBPACK_EXTERNAL_MODULE_17__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"riot\"\n// module id = 17\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"riot\"","import 'riot';\r\nimport route from 'riot-route';\r\nimport Cookies from 'js-cookie';\r\nimport RiotControl from 'riotcontrol';\r\nimport RandomString from './utils/random-string.js';\r\nimport RiotRouteExtension from './extensions/riot-route-extension.js';\r\nimport ProgressStore from './stores/progress-store.js';\r\nimport DynamicJsCssLoader from './dynamic-jscss-loader.js';\r\nimport ComponentLoaderStore from './stores/component-loader-store.js';\r\nimport ErrorStore from './stores/error-store.js';\r\nimport FetchStore from './stores/fetch-store.js';\r\nimport LocalStorageStore from './stores/localstorage-store.js';\r\nimport RiotControlExt from './riotcontrol-ext.js';\r\nimport RouteStore from './stores/route-store.js';\r\nimport PluginRegistrationStore from './stores/plugin-registration-store.js';\r\nimport StartupStore from './stores/startup-store.js';\r\nimport RiotControlDispatchStore from './stores/riotcontrol-dispatch-store.js';\r\nimport KeepAliveStore from './stores/keep-alive-store.js';\r\n\r\nimport MasterEventTable from './master-event-table.js';\r\nimport './components/startup.tag';\r\n\r\nriot.global = {};\r\nriot.Cookies = Cookies;\r\nexport default class P7HostCore {\r\n\r\n  constructor() {\r\n    this._masterEventTable = new MasterEventTable();\r\n    this._name = 'P7HostCore';\r\n    window.riot = riot;  // TODO: ask Zeke about this\r\n    riot.route = route;\r\n    riot.control = RiotControl;\r\n    riot.state = {};\r\n  }\r\n\r\n  get name() {\r\n    return this._name;\r\n  }\r\n\r\n  Initialize() {\r\n\r\n    riot.routeState = {};\r\n\r\n    let randomString = new RandomString();\r\n    let hash = randomString.randomHash();\r\n\r\n    riot.state = {\r\n      _internal: {\r\n        hash: hash\r\n      },\r\n      error: {code: 'unknown'},\r\n      route: {\r\n        defaultRoute: 'main/home'\r\n      }\r\n    };\r\n    this._riotRouteExtension = new RiotRouteExtension();\r\n\r\n    this._progressStore = new ProgressStore();\r\n    this._dynamicJsCssLoader = new DynamicJsCssLoader();\r\n    this._errorStore = new ErrorStore();\r\n    this._fetchStore = new FetchStore();\r\n    this._localStorageStore = new LocalStorageStore();\r\n    this._riotControlExt = new RiotControlExt();\r\n    this._routeStore = new RouteStore();\r\n    this._keepAliveStore = new KeepAliveStore();\r\n\r\n    this._componentLoaderStore = new ComponentLoaderStore(this._dynamicJsCssLoader);\r\n    this._pluginRegistrationStore = new PluginRegistrationStore(this._riotControlExt,\r\n                                                                    this._dynamicJsCssLoader,\r\n                                                                    this._componentLoaderStore);\r\n\r\n    this._riotControlDispatchStore = new RiotControlDispatchStore();\r\n    this._startupStore = new StartupStore();\r\n\r\n    riot.control.addStore(this._progressStore);\r\n    riot.control.addStore(this._componentLoaderStore);\r\n    riot.control.addStore(this._errorStore);\r\n    riot.control.addStore(this._fetchStore);\r\n    riot.control.addStore(this._localStorageStore);\r\n    riot.control.addStore(this._routeStore);\r\n    riot.control.addStore(this._pluginRegistrationStore);\r\n    riot.control.addStore(this._riotControlDispatchStore);\r\n    riot.control.addStore(this._keepAliveStore);\r\n    riot.control.addStore(this._startupStore);\r\n\r\n    return riot;\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/p7-host-core.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/p7-host-core.js","export default class RiotRouteExtension {\r\n  constructor() {\r\n    var self = this;\r\n\r\n    self.name = 'RiotRouteExtension';\r\n    self.namespace = self.name + ':';\r\n    self.currentPath = '';\r\n\r\n    self._defaultParser = (path) =>{\r\n      self.currentPath = path;\r\n      return path.split(/[/?#]/);\r\n    };\r\n    self._getCurrentPath = () => {\r\n      return self.currentPath;\r\n    };\r\n    riot.route.parser(self._defaultParser, null);\r\n    riot.route.currentPath = self._getCurrentPath;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/extensions/riot-route-extension.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/extensions/riot-route-extension.js","import DeepFreeze from './utils/deep-freeze.js';\r\nimport RandomString from './utils/random-string.js';\r\nimport P7HostCore from './p7-host-core.js';\r\nimport Validator from './utils/validators.js';\r\nimport StoreBase from './stores/store-base.js';\r\nexport {\r\n  DeepFreeze, RandomString, P7HostCore, Validator, StoreBase\r\n };\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/index.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/index.js","\r\nimport ProgressStore from './stores/progress-store.js';\r\nimport FetchStore from './stores/fetch-store.js';\r\nimport ComponentLoaderStore from './stores/component-loader-store.js';\r\nimport LocalStorageStore from './stores/localstorage-store.js';\r\nimport ErrorStore from './stores/error-store.js';\r\nimport RouteStore from './stores/route-store.js';\r\nimport RiotControlDispatchStore from './stores/riotcontrol-dispatch-store.js';\r\nimport PluginRegistrationStore from './stores/plugin-registration-store.js';\r\nimport StartupStore from './stores/startup-store.js';\r\nimport KeepAliveStore from './stores/keep-alive-store.js';\r\nimport Router from './router.js';\r\n\r\nexport default class MasterEventTable {\r\n\r\n  constructor() {\r\n    riot.EVT = {};\r\n\r\n    riot.EVT.keepAliveStore = KeepAliveStore.constants.WELLKNOWN_EVENTS;\r\n    riot.EVT.progressStore = ProgressStore.constants.WELLKNOWN_EVENTS;\r\n    riot.EVT.routeStore = RouteStore.constants.WELLKNOWN_EVENTS;\r\n    riot.EVT.componentLoaderStore = ComponentLoaderStore.constants.WELLKNOWN_EVENTS;\r\n    riot.EVT.errorStore = ErrorStore.constants.WELLKNOWN_EVENTS;\r\n    riot.EVT.fetchStore = FetchStore.constants.WELLKNOWN_EVENTS;\r\n    riot.EVT.localStorageStore = LocalStorageStore.constants.WELLKNOWN_EVENTS;\r\n    riot.EVT.riotControlDispatchStore = RiotControlDispatchStore.constants.WELLKNOWN_EVENTS;\r\n    riot.EVT.pluginRegistrationStore = PluginRegistrationStore.constants.WELLKNOWN_EVENTS;\r\n    riot.EVT.startupStore = StartupStore.constants.WELLKNOWN_EVENTS;\r\n    riot.EVT.router = Router.constants.WELLKNOWN_EVENTS;\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/master-event-table.js\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/master-event-table.js","\n    var riot = require('riot')\n    riot.tag2('startup', '', '', '', function(opts) {\n\tvar self = this;\n\n  riot.global.window = self.opts.window;\n\n  if(self.opts.config){\n    self.config = self.opts.config;\n  }\n  self.keepAlive = self.opts.keepAlive;\n  riot.state.keepAlive = { url:self.keepAlive };\n\n  self.nextTag = 'app';\n  if(self.opts.nextTag){\n    self.nextTag = self.opts.nextTag;\n  }\n  self.loaded = false;\n  self._bind =()=>{\n    riot.control.on('startup-store:config-complete',\n                    self.onConfigComplete);\n  }\n  self._unbind =()=>{\n    riot.control.off('startup-store:config-complete',\n                    self.onConfigComplete);\n  }\n\n  self.on('mount', () => {\n    self._bind();\n    riot.control.trigger(riot.EVT.startupStore.in.fetchConfig,self.config);\n    if(self.keepAlive){\n      riot.control.trigger('keep-alive-store:enable');\n    }\n  });\n\n  self.on('unmount', () => {\n    self._unbind();\n  });\n\n  self.onConfigComplete = () =>{\n    if(!self.loaded){\n      self.loaded = true;\n      self._unbind();\n      riot.control.trigger(riot.EVT.startupStore.in.start,self.nextTag);\n    }\n  }\n\n});\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/p7-host-core/components/startup.tag\n\n\n// WEBPACK FOOTER //\n// webpack:///app/p7-host-core/components/startup.tag","module.exports = __WEBPACK_EXTERNAL_MODULE_23__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"js-cookie\"\n// module id = 23\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"js-cookie\"","module.exports = __WEBPACK_EXTERNAL_MODULE_24__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"riot-route\"\n// module id = 24\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"riot-route\"","module.exports = __WEBPACK_EXTERNAL_MODULE_25__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"riotcontrol\"\n// module id = 25\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"riotcontrol\"","module.exports = __WEBPACK_EXTERNAL_MODULE_26__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"whatwg-fetch\"\n// module id = 26\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"whatwg-fetch\"","/*!\n * JavaScript Cookie v2.1.4\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js-cookie/src/js.cookie.js\n// module id = 2\n// module chunks = 0","import observable from 'riot-observable';\n\n/**\n * Simple client-side router\n * @module riot-route\n */\n\nvar RE_ORIGIN = /^.+?\\/\\/+[^\\/]+/;\nvar EVENT_LISTENER = 'EventListener';\nvar REMOVE_EVENT_LISTENER = 'remove' + EVENT_LISTENER;\nvar ADD_EVENT_LISTENER = 'add' + EVENT_LISTENER;\nvar HAS_ATTRIBUTE = 'hasAttribute';\nvar POPSTATE = 'popstate';\nvar HASHCHANGE = 'hashchange';\nvar TRIGGER = 'trigger';\nvar MAX_EMIT_STACK_LEVEL = 3;\nvar win = typeof window != 'undefined' && window;\nvar doc = typeof document != 'undefined' && document;\nvar hist = win && history;\nvar loc = win && (hist.location || win.location);\nvar prot = Router.prototype;\nvar clickEvent = doc && doc.ontouchstart ? 'touchstart' : 'click';\nvar central = observable();\n\nvar started = false;\nvar routeFound = false;\nvar debouncedEmit;\nvar base;\nvar current;\nvar parser;\nvar secondParser;\nvar emitStack = [];\nvar emitStackLevel = 0;\n\n/**\n * Default parser. You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_PARSER(path) {\n  return path.split(/[/?#]/)\n}\n\n/**\n * Default parser (second). You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @param {string} filter - filter string (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_SECOND_PARSER(path, filter) {\n  var f = filter\n    .replace(/\\?/g, '\\\\?')\n    .replace(/\\*/g, '([^/?#]+?)')\n    .replace(/\\.\\./, '.*');\n  var re = new RegExp((\"^\" + f + \"$\"));\n  var args = path.match(re);\n\n  if (args) { return args.slice(1) }\n}\n\n/**\n * Simple/cheap debounce implementation\n * @param   {function} fn - callback\n * @param   {number} delay - delay in seconds\n * @returns {function} debounced function\n */\nfunction debounce(fn, delay) {\n  var t;\n  return function () {\n    clearTimeout(t);\n    t = setTimeout(fn, delay);\n  }\n}\n\n/**\n * Set the window listeners to trigger the routes\n * @param {boolean} autoExec - see route.start\n */\nfunction start(autoExec) {\n  debouncedEmit = debounce(emit, 1);\n  win[ADD_EVENT_LISTENER](POPSTATE, debouncedEmit);\n  win[ADD_EVENT_LISTENER](HASHCHANGE, debouncedEmit);\n  doc[ADD_EVENT_LISTENER](clickEvent, click);\n  if (autoExec) { emit(true); }\n}\n\n/**\n * Router class\n */\nfunction Router() {\n  this.$ = [];\n  observable(this); // make it observable\n  central.on('stop', this.s.bind(this));\n  central.on('emit', this.e.bind(this));\n}\n\nfunction normalize(path) {\n  return path.replace(/^\\/|\\/$/, '')\n}\n\nfunction isString(str) {\n  return typeof str == 'string'\n}\n\n/**\n * Get the part after domain name\n * @param {string} href - fullpath\n * @returns {string} path from root\n */\nfunction getPathFromRoot(href) {\n  return (href || loc.href).replace(RE_ORIGIN, '')\n}\n\n/**\n * Get the part after base\n * @param {string} href - fullpath\n * @returns {string} path from base\n */\nfunction getPathFromBase(href) {\n  return base[0] === '#'\n    ? (href || loc.href || '').split(base)[1] || ''\n    : (loc ? getPathFromRoot(href) : href || '').replace(base, '')\n}\n\nfunction emit(force) {\n  // the stack is needed for redirections\n  var isRoot = emitStackLevel === 0;\n  if (MAX_EMIT_STACK_LEVEL <= emitStackLevel) { return }\n\n  emitStackLevel++;\n  emitStack.push(function() {\n    var path = getPathFromBase();\n    if (force || path !== current) {\n      central[TRIGGER]('emit', path);\n      current = path;\n    }\n  });\n  if (isRoot) {\n    var first;\n    while (first = emitStack.shift()) { first(); } // stack increses within this call\n    emitStackLevel = 0;\n  }\n}\n\nfunction click(e) {\n  if (\n    e.which !== 1 // not left click\n    || e.metaKey || e.ctrlKey || e.shiftKey // or meta keys\n    || e.defaultPrevented // or default prevented\n  ) { return }\n\n  var el = e.target;\n  while (el && el.nodeName !== 'A') { el = el.parentNode; }\n\n  if (\n    !el || el.nodeName !== 'A' // not A tag\n    || el[HAS_ATTRIBUTE]('download') // has download attr\n    || !el[HAS_ATTRIBUTE]('href') // has no href attr\n    || el.target && el.target !== '_self' // another window or frame\n    || el.href.indexOf(loc.href.match(RE_ORIGIN)[0]) === -1 // cross origin\n  ) { return }\n\n  if (el.href !== loc.href\n    && (\n      el.href.split('#')[0] === loc.href.split('#')[0] // internal jump\n      || base[0] !== '#' && getPathFromRoot(el.href).indexOf(base) !== 0 // outside of base\n      || base[0] === '#' && el.href.split(base)[0] !== loc.href.split(base)[0] // outside of #base\n      || !go(getPathFromBase(el.href), el.title || doc.title) // route not found\n    )) { return }\n\n  e.preventDefault();\n}\n\n/**\n * Go to the path\n * @param {string} path - destination path\n * @param {string} title - page title\n * @param {boolean} shouldReplace - use replaceState or pushState\n * @returns {boolean} - route not found flag\n */\nfunction go(path, title, shouldReplace) {\n  // Server-side usage: directly execute handlers for the path\n  if (!hist) { return central[TRIGGER]('emit', getPathFromBase(path)) }\n\n  path = base + normalize(path);\n  title = title || doc.title;\n  // browsers ignores the second parameter `title`\n  shouldReplace\n    ? hist.replaceState(null, title, path)\n    : hist.pushState(null, title, path);\n  // so we need to set it manually\n  doc.title = title;\n  routeFound = false;\n  emit();\n  return routeFound\n}\n\n/**\n * Go to path or set action\n * a single string:                go there\n * two strings:                    go there with setting a title\n * two strings and boolean:        replace history with setting a title\n * a single function:              set an action on the default route\n * a string/RegExp and a function: set an action on the route\n * @param {(string|function)} first - path / action / filter\n * @param {(string|RegExp|function)} second - title / action\n * @param {boolean} third - replace flag\n */\nprot.m = function(first, second, third) {\n  if (isString(first) && (!second || isString(second))) { go(first, second, third || false); }\n  else if (second) { this.r(first, second); }\n  else { this.r('@', first); }\n};\n\n/**\n * Stop routing\n */\nprot.s = function() {\n  this.off('*');\n  this.$ = [];\n};\n\n/**\n * Emit\n * @param {string} path - path\n */\nprot.e = function(path) {\n  this.$.concat('@').some(function(filter) {\n    var args = (filter === '@' ? parser : secondParser)(normalize(path), normalize(filter));\n    if (typeof args != 'undefined') {\n      this[TRIGGER].apply(null, [filter].concat(args));\n      return routeFound = true // exit from loop\n    }\n  }, this);\n};\n\n/**\n * Register route\n * @param {string} filter - filter for matching to url\n * @param {function} action - action to register\n */\nprot.r = function(filter, action) {\n  if (filter !== '@') {\n    filter = '/' + normalize(filter);\n    this.$.push(filter);\n  }\n  this.on(filter, action);\n};\n\nvar mainRouter = new Router();\nvar route = mainRouter.m.bind(mainRouter);\n\n/**\n * Create a sub router\n * @returns {function} the method of a new Router object\n */\nroute.create = function() {\n  var newSubRouter = new Router();\n  // assign sub-router's main method\n  var router = newSubRouter.m.bind(newSubRouter);\n  // stop only this sub-router\n  router.stop = newSubRouter.s.bind(newSubRouter);\n  return router\n};\n\n/**\n * Set the base of url\n * @param {(str|RegExp)} arg - a new base or '#' or '#!'\n */\nroute.base = function(arg) {\n  base = arg || '#';\n  current = getPathFromBase(); // recalculate current path\n};\n\n/** Exec routing right now **/\nroute.exec = function() {\n  emit(true);\n};\n\n/**\n * Replace the default router to yours\n * @param {function} fn - your parser function\n * @param {function} fn2 - your secondParser function\n */\nroute.parser = function(fn, fn2) {\n  if (!fn && !fn2) {\n    // reset parser for testing...\n    parser = DEFAULT_PARSER;\n    secondParser = DEFAULT_SECOND_PARSER;\n  }\n  if (fn) { parser = fn; }\n  if (fn2) { secondParser = fn2; }\n};\n\n/**\n * Helper function to get url query as an object\n * @returns {object} parsed query\n */\nroute.query = function() {\n  var q = {};\n  var href = loc.href || current;\n  href.replace(/[?&](.+?)=([^&]*)/g, function(_, k, v) { q[k] = v; });\n  return q\n};\n\n/** Stop routing **/\nroute.stop = function () {\n  if (started) {\n    if (win) {\n      win[REMOVE_EVENT_LISTENER](POPSTATE, debouncedEmit);\n      win[REMOVE_EVENT_LISTENER](HASHCHANGE, debouncedEmit);\n      doc[REMOVE_EVENT_LISTENER](clickEvent, click);\n    }\n    central[TRIGGER]('stop');\n    started = false;\n  }\n};\n\n/**\n * Start routing\n * @param {boolean} autoExec - automatically exec after starting if true\n */\nroute.start = function (autoExec) {\n  if (!started) {\n    if (win) {\n      if (document.readyState === 'interactive' || document.readyState === 'complete') {\n        start(autoExec);\n      }\n      else {\n        document.onreadystatechange = function () {\n          if (document.readyState === 'interactive') {\n            // the timeout is needed to solve\n            // a weird safari bug https://github.com/riot/route/issues/33\n            setTimeout(function() { start(autoExec); }, 1);\n          }\n        };\n      }\n    }\n    started = true;\n  }\n};\n\n/** Prepare the router **/\nroute.base();\nroute.parser();\n\nexport default route;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/riot-route/lib/index.js\n// module id = 3\n// module chunks = 0","var RiotControl = {\r\n  _stores: [],\r\n  addStore: function(store) {\r\n    this._stores.push(store);\r\n  },\r\n  reset: function() {\r\n    this._stores = [];\r\n  }\r\n};\r\n\r\n['on','one','off','trigger'].forEach(function(api){\r\n  RiotControl[api] = function() {\r\n    var args = [].slice.call(arguments);\r\n    this._stores.forEach(function(el){\r\n      el[api].apply(el, args);\r\n    });\r\n  };\r\n});\r\n\r\nif (typeof(module) !== 'undefined') module.exports = RiotControl;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/riotcontrol/riotcontrol.js\n// module id = 4\n// module chunks = 0","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/whatwg-fetch/fetch.js\n// module id = 5\n// module chunks = 0","\n    var riot = require('riot')\n    \nimport './components/header.tag';\nimport './components/sidebar.tag';\nimport './components/loading-indicator.tag';\n\n\nimport RouteContributer     from './route-contributer.js';\nriot.tag2('app', '<loading-indicator></loading-indicator> <header></header> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-sm-3 col-md-2 sidebar\"> <div class=\"list-group table-of-contents\"> <sidebar></sidebar> </div> </div> <div id=\"mainContent\" class=\"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main\"> <div id=\"riot-app\"></div> <div class=\"alert alert-dismissible alert-success\" ref=\"success-alert\" id=\"success-alert\"> <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button> <strong>Success! </strong> A successful keep-alive has been issued. </div> </div> </div> </div>', '', '', function(opts) {\n \tvar self = this;\n  self.name = 'app';\n  self.on('before-mount', () => {\n      console.log('before-mount');\n      let routeContributer = new RouteContributer();\n      let registerRecord = {\n        name: 'main-component',\n        stores: [],\n        registrants: {\n          routeContributer: routeContributer\n        },\n        postLoadEvents: [],\n        preUnloadEvents: []\n      };\n\n      riot.control.trigger('plugin-registration', registerRecord);\n    });\n\n  self._bind =()=>{\n    riot.control.on(riot.EVT.keepAliveStore.out.keptAlive,\n                    self.onKeptAlive);\n  }\n\n  self._unbind =()=>{\n     riot.control.off(riot.EVT.keepAliveStore.out.keptAlive,\n                    self.onKeptAlive);\n  }\n  self.onKeptAlive = () =>{\n    console.log(self.name,'onKeptAlive');\n\n    $(\"#success-alert\").alert();\n    $(\"#success-alert\")\n      .fadeTo(2000, 500)\n      .slideUp(500, function(){\n        $(\"#success-alert\").slideUp(500);\n      });\n\n  }\n\n \tself.on('mount', () => {\n      console.log(self.name,'mount');\n      self._bind();\n       $(\"#success-alert\").hide();\n    });\n\n  self.on('unmount', () => {\n      console.log(self.name,'unmount');\n      self._unbind();\n    });\n\n});\n\n\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/app.tag","\n    var riot = require('riot')\n    riot.tag2('my-next-startup', '', '', '', function(opts) {\n\tvar self = this;\n  if(self.opts.config){\n    self.config = self.opts.config;\n  }\n  self.nextTag = 'app';\n  if(self.opts.nextTag){\n    self.nextTag = self.opts.nextTag;\n  }\n\n  self.loaded = false;\n\n  self._bind =()=>{\n    riot.control.on('next-config-store:config-complete',\n                    self.onConfigComplete);\n  }\n  self._unbind =()=>{\n    riot.control.off('next-config-store:config-complete',\n                    self.onConfigComplete);\n  }\n\n  self.on('mount', () => {\n    self._bind();\n    riot.control.trigger('next-config-store:fetch-config',self.config);\n  });\n\n  self.on('unmount', () => {\n    self._unbind();\n  });\n\n  self.onConfigComplete = () =>{\n    if(!self.loaded){\n      self.loaded = true;\n      self._unbind();\n      riot.control.trigger(riot.EVT.startupStore.in.start,self.nextTag);\n    }\n  }\n\n});\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/components/my-next-startup.tag","var OptsMixin = {\r\n\r\n    // init method is a special one which can initialize\r\n    // the mixin when it's loaded to the tag and is not\r\n    // accessible from the tag its mixed in\r\n  init: function () {\r\n    console.log('OptsMixin:init:', this);\r\n  },\r\n\r\n  getOpts: function () {\r\n    return this.opts;\r\n  },\r\n\r\n  setOpts: function (opts, update) {\r\n    this.opts = opts;\r\n    if (!update) {this.update();}\r\n    return this;\r\n  }\r\n};\r\n\r\nif (typeof (module) !== 'undefined') module.exports = OptsMixin;\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/mixins/opts-mixin.js","import {DeepFreeze, StoreBase} from '../../lib/P7HostCore.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'next-config-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    fetchConfig: Constants.NAMESPACE + 'fetch-config',\r\n    fetchConfigResult: Constants.NAMESPACE + 'fetch-config-result',\r\n    fetchConfigHeadResult: Constants.NAMESPACE + 'fetch-config-head-result'\r\n  },\r\n  out: {\r\n    configComplete: Constants.NAMESPACE + 'config-complete'\r\n  }\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class NextConfigStore extends StoreBase {\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n  constructor() {\r\n    super();\r\n    let self = this;\r\n\r\n    riot.observable(this);\r\n    this.riotHandlers = [\r\n      {event: Constants.WELLKNOWN_EVENTS.in.fetchConfig, handler: this._onFetchConfig},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.fetchConfigResult, handler: this._onFetchConfigResult}\r\n    ];\r\n    self.bindEvents();\r\n  }\r\n\r\n  _onFetchConfig(path) {\r\n    console.log(Constants.NAME, Constants.WELLKNOWN_EVENTS.in.fetchConfig, path);\r\n    this.off(Constants.WELLKNOWN_EVENTS.in.fetchConfig, this._onFetchConfig); // done with this one.\r\n\r\n    let url = path;\r\n    let myAck = {\r\n      evt: riot.EVT.nextConfigStore.in.fetchConfigResult\r\n    };\r\n\r\n    riot.control.trigger(riot.EVT.fetchStore.in.fetch, url, null, myAck);\r\n  }\r\n\r\n  _onFetchConfigResult(result, ack) {\r\n    console.log(Constants.NAME, riot.EVT.nextConfigStore.in.fetchConfigResult, result, ack);\r\n    this.off(riot.EVT.nextConfigStore.in.fetchConfigResult, this._onFetchConfigResult); // done with this one\r\n\r\n    if (result.error || !result.response.ok) {\r\n      riot.control.trigger(riot.EVT.errorStore.in.errorCatchAll, {code: 'startup-config1234'});\r\n    } else {\r\n      this.trigger(Constants.WELLKNOWN_EVENTS.out.configComplete);\r\n    }\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/stores/next-config-store.js","import {DeepFreeze, StoreBase} from '../../lib/P7HostCore.js';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'sidebar-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    sidebarAddItem: Constants.NAMESPACE + 'sidebar-add-item',\r\n    sidebarRemoveItem: Constants.NAMESPACE + 'sidebar-remove-item'\r\n  },\r\n  out: {\r\n\r\n  }\r\n};\r\nDeepFreeze.freeze(Constants);\r\n\r\nexport default class SidebarStore extends StoreBase {\r\n\r\n  constructor() {\r\n    super();\r\n    riot.observable(this);\r\n    this.state = riot.state.sidebar;\r\n    this.itemsSet = new Set();\r\n\r\n    this._loadFromState();\r\n    this.riotHandlers = [\r\n      {event: Constants.WELLKNOWN_EVENTS.in.sidebarAddItem, handler: this._onSidebarAddItem},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.sidebarRemoveItem, handler: this._onSidebarRemoveItem}\r\n    ];\r\n    this.bindEvents();\r\n  }\r\n\r\n  _commitToState() {\r\n    this.state.items = Array.from(this.itemsSet);\r\n    this.trigger(riot.EVT.routeStore.out.riotRouteDispatchAck);\r\n  }\r\n\r\n  _loadFromState() {\r\n    for (let item of this.state.items) {\r\n      this.itemsSet.add(item);\r\n    }\r\n  }\r\n\r\n  _findItem(item) {\r\n    for (let t of this.state.items) {\r\n      if (t.title === item.title && t.view === item.view) {\r\n        return t;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  _deleteItem(item) {\r\n    for (let t of this.state.items) {\r\n      if (t.title === item.title) {\r\n        this.itemsSet.delete(t);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  _onSidebarAddItem(item) {\r\n    var t = this._findItem(item);\r\n\r\n    if (t == null) {\r\n      this.itemsSet.add(item);\r\n      this._commitToState();\r\n    }\r\n  }\r\n\r\n  _onSidebarRemoveItem(item) {\r\n    this._deleteItem(item);\r\n    this._commitToState();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/stores/sidebar-store.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/css/index.css\n// module id = 11\n// module chunks = 0","\n    var riot = require('riot')\n    riot.tag2('header', '<div class=\"navbar navbar-default navbar-fixed-top\"> <div class=\"container\"> <div class=\"navbar-header\"> <a href=\"../\" class=\"navbar-brand\">Bootswatch</a> <button class=\"navbar-toggle\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbar-main\"> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> </button> </div> <div class=\"navbar-collapse collapse\" id=\"navbar-main\"> <ul class=\"nav navbar-nav\"> <li> <a href=\"https://github.com/ghstahl/P7-riotjs-host\">github</a> </li> </ul> <ul class=\"nav navbar-nav navbar-right\"> <li each=\"{navItems}\" onclick=\"{parent.route}\" class=\"{active : parent.routeState.route === this.route}\"> <a>{this.title}</a> </li> </ul> </div> </div> </nav>', '', '', function(opts) {\n  var self = this;\n  self.routeState = riot.routeState;\n\n  self.navItems = [\n    { title : 'Home', route : '/main/home'},\n    { title : 'Projects', route : '/main/projects' }\n  ];\n\n  self.on('mount', () => {\n    console.log('header mount');\n    riot.control.on(\n      riot.EVT.routeStore.out.riotRouteDispatchAck,\n      self._onRiotRouteDispatchAck);\n  });\n  self.on('unmount', () => {\n    console.log('header unmount')\n    riot.control.off(\n      riot.EVT.routeStore.out.riotRouteDispatchAck,\n      self._onRiotRouteDispatchAck);\n  });\n\n  self._onRiotRouteDispatchAck = () =>{\n    console.log('header',\n      riot.EVT.routeStore.out.riotRouteDispatchAck)\n    self.update()\n  }\n\n  self.route = (evt) => {\n    riot.control.trigger(riot.EVT.routeStore.in.routeDispatch,evt.item.route);\n  };\n\n});\n\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/components/header.tag","\n    var riot = require('riot')\n    riot.tag2('itemlist', '<div class=\"row\"> <div class=\"col-md-6\"> <h3>{opts.title}</h3> <ul> <li each=\"{items}\">{this.name}</li> </ul> </div> <div class=\"col-md-6\"> <h3>{opts.title}</h3> <ul> <li each=\"{items}\">{this.name}</li> </ul> </div> </div>', '', '', function(opts) {\n    var self = this;\n    self.items = [];\n\n    self.on('mount', () => {\n      console.log('itemlist mount')\n      riot.control.on(riot.EVT.loadItemsSuccess,self.onLoadItemsSuccess);\n      riot.control.trigger(riot.EVT.loadItems);\n    });\n    self.on('unmount', () => {\n      console.log('itemlist unmount')\n      riot.control.off(riot.EVT.loadItemsSuccess,self.onLoadItemsSuccess);\n    });\n    self.onLoadItemsSuccess = (items) =>{\n      this.items = items;\n      this.update()\n    }\n\n});\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/components/itemlist.tag","\n    var riot = require('riot')\n    import * as nprogress from 'nprogress';\nimport 'nprogress/nprogress.css'\n\nriot.tag2('loading-indicator', '', '', '', function(opts) {\n    var self = this;\n    self.onProgressStart = () =>{\n        nprogress.start();\n    }\n    self.onProgressDone = () =>{\n        nprogress.done();\n    }\n    self.on('mount', function() {\n        console.log('loading-indicator mount......')\n        riot.control.on(riot.EVT.progressStore.out.progressStart, self.onProgressStart);\n        riot.control.on(riot.EVT.progressStore.out.progressDone, self.onProgressDone);\n    });\n\n    self.on('unmount', function() {\n        console.log('loading-indicator unmount......')\n        riot.control.off(riot.EVT.progressStore.out.progressStart, self.onProgressStart);\n        riot.control.off(riot.EVT.progressStore.out.progressDone, self.onProgressDone);\n    });\n\n});\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/components/loading-indicator.tag","\n    var riot = require('riot')\n    riot.tag2('pretty-json', '<pre>{JSON.stringify(this.obj, null, 2)}</pre>', '', '', function(opts) {\n    var self = this;\n    self.obj = opts.obj;\n});\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/components/pretty-json.tag","\n    var riot = require('riot')\n    riot.tag2('sidebar', '<a each=\"{state.items}\" onclick=\"{parent.route}\" class=\"{parent.routeState.route === this.route? \\'active list-group-item\\':\\'list-group-item\\'}\">{this.title}</a> </div>', '', '', function(opts) {\n\tvar self = this;\n\tself.state = riot.state.sidebar;\n  \tself.routeState = riot.routeState;\n\n\tself.on('mount', () => {\n\t    console.log('sidebar mount');\n\t    riot.control.on(\n\t    \triot.EVT.routeStore.out.riotRouteDispatchAck,\n\t    \tself.onRiotRouteDispatchAck);\n\t  });\n\t  self.on('unmount', () => {\n\t    console.log('sidebar unmount')\n\t    riot.control.off(\n\t    \triot.EVT.routeStore.out.riotRouteDispatchAck,\n\t    \tself.onRiotRouteDispatchAck);\n\t  });\n\n\t  self.onRiotRouteDispatchAck = () =>{\n\t    console.log('sidebar',riot.EVT.routeStore.out.riotRouteDispatchAck);\n\t    self.update()\n\t  }\n\n\t  self.route = (evt) => {\n\t\triot.control.trigger(riot.EVT.routeStore.in.routeDispatch,evt.item.route);\n\t  };\n\n});\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/components/sidebar.tag","\n    var riot = require('riot')\n    riot.tag2('error', '<div class=\"panel panel-default\"> <div class=\"panel-heading\"> <h3 class=\"panel-title\">Error Code: {state.code} </h3> </div> <div class=\"panel-body\"> <div class=\"alert alert-danger\"> <strong>Well Hell!</strong> We have dispatched the minions to determine who was responsible for this defect. Once they have been dealt with, we will fix the issue. </div> </div> </div>', '', '', function(opts) {\n\tvar self = this;\n  self.name = \"error\";\n\tself.error = false;\n\n  self.on('before-mount', () => {\n    self.state = riot.state.error;\n  });\n\n\tself.on('mount', () => {\n    console.log(self.name,'mount')\n  });\n\n  self.on('unmount', () => {\n    console.log(self.name,'unmount')\n  });\n\n});\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/pages/error.tag","\n    var riot = require('riot')\n    import '../components/itemlist.tag';\n\nriot.tag2('home', '<div class=\"progress\"> <div class=\"progress-bar progress-bar-info\" riot-style=\"width: {times[0]}%\"></div> </div <div class=\"progress\"> <div class=\"progress-bar progress-bar-success\" riot-style=\"width: {times[1]}%\"></div> </div> <div class=\"progress\"> <div class=\"progress-bar progress-bar-warning\" riot-style=\"width: {times[2]}%\"></div> </div> <div class=\"progress\"> <div class=\"progress-bar progress-bar-danger\" riot-style=\"width: {times[3]}%\"></div> </div> <div class=\"progress progress-striped\"> <div class=\"progress-bar progress-bar-info\" riot-style=\"width: {times[4]}%\"></div> </div> <div class=\"progress progress-striped\"> <div class=\"progress-bar progress-bar-success\" riot-style=\"width: {times[5]}%\"></div> </div> <div class=\"progress progress-striped\"> <div class=\"progress-bar progress-bar-warning\" riot-style=\"width: {times[6]}%\"></div> </div> <div class=\"progress progress-striped\"> <div class=\"progress-bar progress-bar-danger\" riot-style=\"width: {times[7]}%\"></div> </div> <div class=\"progress progress-striped active\"> <div class=\"progress-bar\" riot-style=\"width: {times[8]}%\"></div> </div> <div> <a href=\"#\" class=\"btn {buttonClasses[buttonS[0]]}\">Default</a> <a href=\"#\" class=\"btn {buttonClasses[buttonS[1]]}\">Primary</a> <a href=\"#\" class=\"btn {buttonClasses[buttonS[2]]}\">Success</a> <a href=\"#\" class=\"btn {buttonClasses[buttonS[3]]}\">Info</a> <a href=\"#\" class=\"btn {buttonClasses[buttonS[4]]}\">Warning</a> <a href=\"#\" class=\"btn {buttonClasses[buttonS[5]]}\">Danger</a> <a href=\"#\" class=\"btn {buttonClasses[buttonS[6]]}\">Link</a> </div> <div class=\"spacer\"></div> <div> <a class=\"btn btn-default\" onclick=\"{this.generateAnError}\">Generate An Error</a> </div>', '', '', function(opts) {\n\tvar self = this;\n\tself.name = 'home';\n\n\tself.times = [0,1,2,3,4,5,6,7,8,9];\n\tself.buttonS = [0,1,2,3,4,5,6];\n\tself.buttonClasses = [\n\t\t\"btn-default\",\n\t\t\"btn-primary\",\n\t\t\"btn-success\",\n\t\t\"btn-info\",\n\t\t\"btn-warning\",\n\t\t\"btn-danger\",\n\t\t\"btn-link\"\n\t\t];\n\n\tself.a = 0;\n\tself.b = 0;\n\tself.c = 0;\n\n\tself.tick = () => {\n\n\t\tvar arrayLength = self.times.length;\n\t\tfor (var i = 0; i < arrayLength; i++) {\n\t\t    self.times[i] = Math.floor(Math.random() * (100 - 0) + 0);\n\t\t}\n\n\t\tarrayLength = self.buttonS.length;\n\t\tfor (var i = 0; i < arrayLength; i++) {\n\t\t    self.buttonS[i] = Math.floor(Math.random() * (6 - 0) + 0);\n\t\t}\n\n\t\tself.a = self.times[0];\n\t\tself.b = Math.random() * (100 - self.a) + self.a;\n\t\tself.c = 100 - self.a - self.b;\n\n  \t\tself.update();\n  \t};\n\n\tself.on('mount', function() {\n\t\tself.tick();\n    \tself.timer =  setInterval(this.tick,400)\n    })\n\tself.on('unmount', function() {\n    \tclearInterval(self.timer)\n    })\n\n\tself.generateAnError = () => {\n  \t\triot.control.trigger(riot.EVT.errorStore.in.errorCatchAll,{code:'dancingLights-143523'});\n  \t};\n});\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/pages/home.tag","\n    var riot = require('riot')\n    import \"../components/pretty-json.tag\"\n\nriot.tag2('projects', '<div each=\"{component in components}\" class=\"panel panel-default\"> <div class=\"panel-heading\"> <h3 class=\"panel-title\">{component.key}</h3> </div> <div class=\"panel-body\"> <div class=\"well well-lg\"> This will load a mini spa which has been pre-bundled. This mini spa was built using the riotjs-partial-tag nested project. </div> <a onclick=\"{parent.loadMyComponentsSPA}\" class=\"{component.state.loaded == false?\\'btn btn-default btn-lg\\':\\'disabled btn btn-default btn-lg\\'}\"> Load Component</a> <a onclick=\"{parent.unloadMyComponentsSPA}\" class=\"{component.state.loaded == true?\\'btn btn-default btn-lg\\':\\'disabled btn btn-default btn-lg\\'}\"> Unload Component</a> <a onclick=\"{this.clearLocalStorage}\" class=\"btn btn-primary btn-lg\"> Clear Local Storage</a> <div class=\"spacer\"></div> <pretty-json obj=\"{component}\"></pretty-json> </div> </div>', '', '', function(opts) {\n\tvar self = this;\n\tself.mixin(\"opts-mixin\");\n\tself.name = 'projects';\n\n\tself.on('before-mount', () => {\n\t\tif(riot.state.projects === undefined){\n\t\t\triot.state.projects = {loaded:false, text:\"Not Loaded Yet...\"}\n\t\t}\n\n\t\tif(riot.state.componentLoaderState != null &&\n\t\t\triot.state.componentLoaderState.components != null){\n\t\t\tself.components = self.getComponentsArray();\n\t\t}\n\n\t  });\n\n\tself.getComponentsArray = () =>{\n\t\tvar result = [];\n\t\triot.state.componentLoaderState.components.forEach((value, key, map)=>{\n\t\t\tresult.push(value);\n\t\t});\n\t\treturn result;\n\t}\n\n\tself.on('mount', () => {\n    \tconsole.log(self.name,'mount')\n      \triot.control.on(riot.EVT.componentLoaderStore.out.componentLoaderStoreStateUpdated,\n      \t\tself.onComponentLoaderStoreStateUpdated);\n    });\n\n    self.on('unmount', () => {\n \t\tconsole.log(self.name,'unmount')\n      \triot.control.off(riot.EVT.componentLoaderStore.out.componentLoaderStoreStateUpdated,self.onComponentLoaderStoreStateUpdated);\n    });\n\n\tself.onComponentLoaderStoreStateUpdated = () => {\n\t\tconsole.log(self.name,riot.EVT.componentLoaderStore.out.componentLoaderStoreStateUpdated)\n  \t\tif(riot.state.componentLoaderState != null &&\n  \t\t\triot.state.componentLoaderState.components != null){\n\t\t\tself.components = self.getComponentsArray();\n\t\t\tself.update();\n\t\t}\n  \t};\n\n  \tself.clearLocalStorage = () => {\n  \t\triot.control.trigger(riot.EVT.localStorageStore.in.localstorageClear);\n  \t};\n\tself.loadMyComponentsSPA = (e) => {\n\t\tvar component = e.item.component;\n\t\tvar key = component.key;\n  \t\triot.control.trigger(riot.EVT.componentLoaderStore.in.loadDynamicComponent,key);\n  \t};\n\n  \tself.unloadMyComponentsSPA = (e) => {\n\t\tvar component = e.item.component;\n  \t\tvar key = component.key;\n  \t\triot.control.trigger(riot.EVT.componentLoaderStore.in.unloadDynamicComponent,key);\n  \t};\n});\n\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./app/pages/projects.tag","\r\n// import 'bootswatch/slate/bootstrap.css';\r\n// import 'bootstrap';\r\nimport './css/index.css';\r\nimport './components/my-next-startup.tag';\r\nimport './app.tag';\r\n// import FetchWrapper from './fetch-wrapper.js';\r\n// let fetchWrapper = new FetchWrapper();\r\n/*\r\nimport P7HostCore from './p7-host-core/index.js';\r\n*/\r\nimport {P7HostCore, RandomString} from '../lib/P7HostCore.js';\r\n\r\nlet p7HostCore = new P7HostCore(riot);\r\nlet randomString = new RandomString();\r\nlet hash = randomString.randomHash();\r\n\r\np7HostCore.Initialize();\r\nriot.state.route.defaultRoute = '/main/home';\r\nriot.state.sidebar = {\r\n  touch: 0,\r\n  items: [\r\n\t\t\t{ title: 'Home', route: '/main/home'},\r\n\t\t\t{ title: 'Projects', route: '/main/projects'}\r\n  ]\r\n};\r\n\r\n// Add the mixings\r\n// //////////////////////////////////////////////////////\r\nimport OptsMixin from './mixins/opts-mixin.js';\r\nriot.mixin('opts-mixin', OptsMixin);\r\n\r\n// Add the stores\r\n// //////////////////////////////////////////////////////\r\n\r\nimport NextConfigStore from './stores/next-config-store.js';\r\nriot.EVT.nextConfigStore = NextConfigStore.constants.WELLKNOWN_EVENTS;\r\nlet nextConfigStore = new NextConfigStore();\r\n\r\nimport SidebarStore \t\t\t\tfrom './stores/sidebar-store.js';\r\nlet sidebarStore = new SidebarStore();\r\n\r\nriot.control.addStore(nextConfigStore);\r\nriot.control.addStore(sidebarStore);\r\n\r\nlet testComponent = {\r\n  key: 'typicode-component',\r\n  path: '/partial/typicode_component/bundle.js',\r\n  type: 'js',\r\n  trigger: {\r\n    onLoad: [{\r\n      event: 'SidebarStore:sidebar-add-item',\r\n      data: {\r\n        title: 'My Components Page',\r\n        route: 'my-component-page/home'\r\n      }\r\n    }\r\n    ],\r\n    onUnload: [{\r\n      event: 'SidebarStore:sidebar-remove-item',\r\n      data: {title: 'My Components Page'}\r\n    }, {\r\n      event: 'plugin-unregistration',\r\n      data: {name: 'typicode-component'}\r\n    }\r\n    ]\r\n  },\r\n  routeLoad: {\r\n    route: '/my-component-page..'\r\n  },\r\n  state: {\r\n    loaded: false\r\n  }\r\n};\r\n\r\nriot.control.trigger('init-component-loader-store');\r\n// riot.control.trigger('add-dynamic-component',testComponent);\r\n\r\n// riot.mount('app');\r\n\r\n// riot.control.trigger('dynamic-jscss-loader-init');\r\n// put Router Last\r\n// //////////////////////////////////////////////////////\r\n\r\n// Finally dispatch the first event.\r\n// //////////////////////////////////////////////////////\r\n// NOTE: DON'T DO the following;\r\n//\t\tRiotControl.trigger(riot.EVT.finalMount,'data');\r\n// REASON:\r\n//      RiotControl events need to go to stores, and if you directly send the event to a tag\r\n//      you will get as many callbacks to the tag as there were stores.  If you have 3 random stores, which\r\n//      have nothing to do with the riot.EVT.finalMount event, you will still get 3 calls to the handler.\r\n// SOLUTION:\r\n// \t\tSend the event to the store, and in my case I send it to what is basically a middleman dispatcher.  My\r\n//      dispatcher forwards on the riot.EVT.finalMount.  Only one handler and only one time.\r\n// //////////////////////////////////////////////////////\r\n// riot.control.trigger('riot-dispatch',riot.EVT.finalMount,'some data');\r\n// riot.control.trigger(riot.EVT.startupStore.in.start);\r\n\r\nriot.mount('startup');\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/index.js","\r\nimport './pages/home.tag';\r\nimport './pages/projects.tag';\r\nimport './pages/error.tag';\r\n\r\nexport default class RouteContributer {\r\n  constructor() {\r\n    riot.observable(this);\r\n    this.name = 'RouteContributer';\r\n    this._initializeViewSet();\r\n  }\r\n\r\n  _initializeViewSet() {\r\n    this._viewsSet = new Set();\r\n    let s = this._viewsSet;\r\n\r\n    s.add('home');\r\n    s.add('projects');\r\n    this.views = Array.from(s);\r\n    this.defaultRoute = '/main/home/';\r\n  }\r\n\r\n  contributeRoutes(r) {\r\n    var self = this;\r\n\r\n    console.log(self.name, riot.EVT.router.out.contributeRoutes, r);\r\n    r('/main/*', (name)=>{\r\n      console.log('route handler of /main/' + name);\r\n      let view = name;\r\n\r\n      if (self.views.indexOf(view) === -1) {\r\n        riot.control.trigger(riot.EVT.routeStore.in.routeDispatch, self.defaultRoute);\r\n      } else {\r\n        riot.control.trigger(riot.EVT.routeStore.in.riotRouteLoadView, view);\r\n      }\r\n    });\r\n\r\n    r('/main..', ()=>{\r\n      console.log('route handler of /main');\r\n      riot.control.trigger(riot.EVT.routeStore.in.routeDispatch, self.defaultRoute);\r\n    });\r\n\r\n    r('/error..', ()=>{\r\n      console.log('route handler of /error..');\r\n      riot.control.trigger(riot.EVT.routeStore.in.riotRouteLoadView, 'error');\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/route-contributer.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/nprogress/nprogress.css\n// module id = 22\n// module chunks = 0","/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress\n * @license MIT */\n\n;(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.NProgress = factory();\n  }\n\n})(this, function() {\n  var NProgress = {};\n\n  NProgress.version = '0.2.0';\n\n  var Settings = NProgress.settings = {\n    minimum: 0.08,\n    easing: 'ease',\n    positionUsing: '',\n    speed: 200,\n    trickle: true,\n    trickleRate: 0.02,\n    trickleSpeed: 800,\n    showSpinner: true,\n    barSelector: '[role=\"bar\"]',\n    spinnerSelector: '[role=\"spinner\"]',\n    parent: 'body',\n    template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n  };\n\n  /**\n   * Updates configuration.\n   *\n   *     NProgress.configure({\n   *       minimum: 0.1\n   *     });\n   */\n  NProgress.configure = function(options) {\n    var key, value;\n    for (key in options) {\n      value = options[key];\n      if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;\n    }\n\n    return this;\n  };\n\n  /**\n   * Last number.\n   */\n\n  NProgress.status = null;\n\n  /**\n   * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n   *\n   *     NProgress.set(0.4);\n   *     NProgress.set(1.0);\n   */\n\n  NProgress.set = function(n) {\n    var started = NProgress.isStarted();\n\n    n = clamp(n, Settings.minimum, 1);\n    NProgress.status = (n === 1 ? null : n);\n\n    var progress = NProgress.render(!started),\n        bar      = progress.querySelector(Settings.barSelector),\n        speed    = Settings.speed,\n        ease     = Settings.easing;\n\n    progress.offsetWidth; /* Repaint */\n\n    queue(function(next) {\n      // Set positionUsing if it hasn't already been set\n      if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();\n\n      // Add transition\n      css(bar, barPositionCSS(n, speed, ease));\n\n      if (n === 1) {\n        // Fade out\n        css(progress, { \n          transition: 'none', \n          opacity: 1 \n        });\n        progress.offsetWidth; /* Repaint */\n\n        setTimeout(function() {\n          css(progress, { \n            transition: 'all ' + speed + 'ms linear', \n            opacity: 0 \n          });\n          setTimeout(function() {\n            NProgress.remove();\n            next();\n          }, speed);\n        }, speed);\n      } else {\n        setTimeout(next, speed);\n      }\n    });\n\n    return this;\n  };\n\n  NProgress.isStarted = function() {\n    return typeof NProgress.status === 'number';\n  };\n\n  /**\n   * Shows the progress bar.\n   * This is the same as setting the status to 0%, except that it doesn't go backwards.\n   *\n   *     NProgress.start();\n   *\n   */\n  NProgress.start = function() {\n    if (!NProgress.status) NProgress.set(0);\n\n    var work = function() {\n      setTimeout(function() {\n        if (!NProgress.status) return;\n        NProgress.trickle();\n        work();\n      }, Settings.trickleSpeed);\n    };\n\n    if (Settings.trickle) work();\n\n    return this;\n  };\n\n  /**\n   * Hides the progress bar.\n   * This is the *sort of* the same as setting the status to 100%, with the\n   * difference being `done()` makes some placebo effect of some realistic motion.\n   *\n   *     NProgress.done();\n   *\n   * If `true` is passed, it will show the progress bar even if its hidden.\n   *\n   *     NProgress.done(true);\n   */\n\n  NProgress.done = function(force) {\n    if (!force && !NProgress.status) return this;\n\n    return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);\n  };\n\n  /**\n   * Increments by a random amount.\n   */\n\n  NProgress.inc = function(amount) {\n    var n = NProgress.status;\n\n    if (!n) {\n      return NProgress.start();\n    } else {\n      if (typeof amount !== 'number') {\n        amount = (1 - n) * clamp(Math.random() * n, 0.1, 0.95);\n      }\n\n      n = clamp(n + amount, 0, 0.994);\n      return NProgress.set(n);\n    }\n  };\n\n  NProgress.trickle = function() {\n    return NProgress.inc(Math.random() * Settings.trickleRate);\n  };\n\n  /**\n   * Waits for all supplied jQuery promises and\n   * increases the progress as the promises resolve.\n   *\n   * @param $promise jQUery Promise\n   */\n  (function() {\n    var initial = 0, current = 0;\n\n    NProgress.promise = function($promise) {\n      if (!$promise || $promise.state() === \"resolved\") {\n        return this;\n      }\n\n      if (current === 0) {\n        NProgress.start();\n      }\n\n      initial++;\n      current++;\n\n      $promise.always(function() {\n        current--;\n        if (current === 0) {\n            initial = 0;\n            NProgress.done();\n        } else {\n            NProgress.set((initial - current) / initial);\n        }\n      });\n\n      return this;\n    };\n\n  })();\n\n  /**\n   * (Internal) renders the progress bar markup based on the `template`\n   * setting.\n   */\n\n  NProgress.render = function(fromStart) {\n    if (NProgress.isRendered()) return document.getElementById('nprogress');\n\n    addClass(document.documentElement, 'nprogress-busy');\n    \n    var progress = document.createElement('div');\n    progress.id = 'nprogress';\n    progress.innerHTML = Settings.template;\n\n    var bar      = progress.querySelector(Settings.barSelector),\n        perc     = fromStart ? '-100' : toBarPerc(NProgress.status || 0),\n        parent   = document.querySelector(Settings.parent),\n        spinner;\n    \n    css(bar, {\n      transition: 'all 0 linear',\n      transform: 'translate3d(' + perc + '%,0,0)'\n    });\n\n    if (!Settings.showSpinner) {\n      spinner = progress.querySelector(Settings.spinnerSelector);\n      spinner && removeElement(spinner);\n    }\n\n    if (parent != document.body) {\n      addClass(parent, 'nprogress-custom-parent');\n    }\n\n    parent.appendChild(progress);\n    return progress;\n  };\n\n  /**\n   * Removes the element. Opposite of render().\n   */\n\n  NProgress.remove = function() {\n    removeClass(document.documentElement, 'nprogress-busy');\n    removeClass(document.querySelector(Settings.parent), 'nprogress-custom-parent');\n    var progress = document.getElementById('nprogress');\n    progress && removeElement(progress);\n  };\n\n  /**\n   * Checks if the progress bar is rendered.\n   */\n\n  NProgress.isRendered = function() {\n    return !!document.getElementById('nprogress');\n  };\n\n  /**\n   * Determine which positioning CSS rule to use.\n   */\n\n  NProgress.getPositioningCSS = function() {\n    // Sniff on document.body.style\n    var bodyStyle = document.body.style;\n\n    // Sniff prefixes\n    var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :\n                       ('MozTransform' in bodyStyle) ? 'Moz' :\n                       ('msTransform' in bodyStyle) ? 'ms' :\n                       ('OTransform' in bodyStyle) ? 'O' : '';\n\n    if (vendorPrefix + 'Perspective' in bodyStyle) {\n      // Modern browsers with 3D support, e.g. Webkit, IE10\n      return 'translate3d';\n    } else if (vendorPrefix + 'Transform' in bodyStyle) {\n      // Browsers without 3D support, e.g. IE9\n      return 'translate';\n    } else {\n      // Browsers without translate() support, e.g. IE7-8\n      return 'margin';\n    }\n  };\n\n  /**\n   * Helpers\n   */\n\n  function clamp(n, min, max) {\n    if (n < min) return min;\n    if (n > max) return max;\n    return n;\n  }\n\n  /**\n   * (Internal) converts a percentage (`0..1`) to a bar translateX\n   * percentage (`-100%..0%`).\n   */\n\n  function toBarPerc(n) {\n    return (-1 + n) * 100;\n  }\n\n\n  /**\n   * (Internal) returns the correct CSS for changing the bar's\n   * position given an n percentage, and speed and ease from Settings\n   */\n\n  function barPositionCSS(n, speed, ease) {\n    var barCSS;\n\n    if (Settings.positionUsing === 'translate3d') {\n      barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };\n    } else if (Settings.positionUsing === 'translate') {\n      barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };\n    } else {\n      barCSS = { 'margin-left': toBarPerc(n)+'%' };\n    }\n\n    barCSS.transition = 'all '+speed+'ms '+ease;\n\n    return barCSS;\n  }\n\n  /**\n   * (Internal) Queues a function to be executed.\n   */\n\n  var queue = (function() {\n    var pending = [];\n    \n    function next() {\n      var fn = pending.shift();\n      if (fn) {\n        fn(next);\n      }\n    }\n\n    return function(fn) {\n      pending.push(fn);\n      if (pending.length == 1) next();\n    };\n  })();\n\n  /**\n   * (Internal) Applies css properties to an element, similar to the jQuery \n   * css method.\n   *\n   * While this helper does assist with vendor prefixed property names, it \n   * does not perform any manipulation of values prior to setting styles.\n   */\n\n  var css = (function() {\n    var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],\n        cssProps    = {};\n\n    function camelCase(string) {\n      return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function(match, letter) {\n        return letter.toUpperCase();\n      });\n    }\n\n    function getVendorProp(name) {\n      var style = document.body.style;\n      if (name in style) return name;\n\n      var i = cssPrefixes.length,\n          capName = name.charAt(0).toUpperCase() + name.slice(1),\n          vendorName;\n      while (i--) {\n        vendorName = cssPrefixes[i] + capName;\n        if (vendorName in style) return vendorName;\n      }\n\n      return name;\n    }\n\n    function getStyleProp(name) {\n      name = camelCase(name);\n      return cssProps[name] || (cssProps[name] = getVendorProp(name));\n    }\n\n    function applyCss(element, prop, value) {\n      prop = getStyleProp(prop);\n      element.style[prop] = value;\n    }\n\n    return function(element, properties) {\n      var args = arguments,\n          prop, \n          value;\n\n      if (args.length == 2) {\n        for (prop in properties) {\n          value = properties[prop];\n          if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);\n        }\n      } else {\n        applyCss(element, args[1], args[2]);\n      }\n    }\n  })();\n\n  /**\n   * (Internal) Determines if an element or space separated list of class names contains a class name.\n   */\n\n  function hasClass(element, name) {\n    var list = typeof element == 'string' ? element : classList(element);\n    return list.indexOf(' ' + name + ' ') >= 0;\n  }\n\n  /**\n   * (Internal) Adds a class to an element.\n   */\n\n  function addClass(element, name) {\n    var oldList = classList(element),\n        newList = oldList + name;\n\n    if (hasClass(oldList, name)) return; \n\n    // Trim the opening space.\n    element.className = newList.substring(1);\n  }\n\n  /**\n   * (Internal) Removes a class from an element.\n   */\n\n  function removeClass(element, name) {\n    var oldList = classList(element),\n        newList;\n\n    if (!hasClass(element, name)) return;\n\n    // Replace the class name.\n    newList = oldList.replace(' ' + name + ' ', ' ');\n\n    // Trim the opening and closing spaces.\n    element.className = newList.substring(1, newList.length - 1);\n  }\n\n  /**\n   * (Internal) Gets a space separated list of the class names on the element. \n   * The list is wrapped with a single space on each end to facilitate finding \n   * matches within the list.\n   */\n\n  function classList(element) {\n    return (' ' + (element.className || '') + ' ').replace(/\\s+/gi, ' ');\n  }\n\n  /**\n   * (Internal) Removes an element from the DOM.\n   */\n\n  function removeElement(element) {\n    element && element.parentNode && element.parentNode.removeChild(element);\n  }\n\n  return NProgress;\n});\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/nprogress/nprogress.js\n// module id = 23\n// module chunks = 0",";(function(window, undefined) {var observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          (callbacks[event] = callbacks[event] || []).push(fn)\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) callbacks = {}\n        else {\n          if (fn) {\n            var arr = callbacks[event]\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) arr.splice(i--, 1)\n            }\n          } else delete callbacks[event]\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0)\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args)\n        }\n\n        if (callbacks['*'] && event != '*')\n          el.trigger.apply(el, ['*', event].concat(args))\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\n  /* istanbul ignore next */\n  // support CommonJS, AMD & browser\n  if (typeof exports === 'object')\n    module.exports = observable\n  else if (typeof define === 'function' && define.amd)\n    define(function() { return observable })\n  else\n    window.observable = observable\n\n})(typeof window != 'undefined' ? window : undefined);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/riot-observable/dist/observable.js\n// module id = 24\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 25\n// module chunks = 0"],"sourceRoot":""}